{"version":3,"sources":["webpack:///./app/index.jsx","webpack:///./~/babel-runtime/helpers/interop-require-default.js","webpack:///./resources/styles/style.scss","webpack:///./~/react/react.js","webpack:///./~/react-dom/index.js","webpack:///./~/redux/lib/index.js","webpack:///./~/redux/lib/createStore.js","webpack:///./~/redux/lib/utils/isPlainObject.js","webpack:///./~/redux/lib/utils/combineReducers.js","webpack:///./~/redux/lib/utils/mapValues.js","webpack:///./~/redux/lib/utils/pick.js","webpack:///./~/redux/lib/utils/bindActionCreators.js","webpack:///./~/redux/lib/utils/applyMiddleware.js","webpack:///./~/redux/lib/utils/compose.js","webpack:///./~/react-redux/lib/index.js","webpack:///./~/react-redux/lib/components/Provider.js","webpack:///./~/react-redux/lib/utils/storeShape.js","webpack:///./~/react-redux/lib/components/connect.js","webpack:///./~/react-redux/lib/utils/shallowEqual.js","webpack:///./~/react-redux/lib/utils/wrapActionCreators.js","webpack:///./~/react-redux/~/hoist-non-react-statics/index.js","webpack:///./~/react-redux/~/invariant/invariant.js","webpack:///./app/reducers.js","webpack:///./app/actions.js","webpack:///./app/components/App.jsx","webpack:///./~/babel-runtime/helpers/get.js","webpack:///./~/babel-runtime/core-js/object/get-own-property-descriptor.js","webpack:///./~/babel-runtime/~/core-js/library/fn/object/get-own-property-descriptor.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.js","webpack:///./~/babel-runtime/~/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.to-iobject.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.iobject.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.cof.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.defined.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.object-sap.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.def.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.global.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.core.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.fails.js","webpack:///./~/babel-runtime/helpers/inherits.js","webpack:///./~/babel-runtime/core-js/object/create.js","webpack:///./~/babel-runtime/~/core-js/library/fn/object/create.js","webpack:///./~/babel-runtime/core-js/object/set-prototype-of.js","webpack:///./~/babel-runtime/~/core-js/library/fn/object/set-prototype-of.js","webpack:///./~/babel-runtime/~/core-js/library/modules/es6.object.set-prototype-of.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.set-proto.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.is-object.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.an-object.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.ctx.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.a-function.js","webpack:///./~/babel-runtime/helpers/create-class.js","webpack:///./~/babel-runtime/core-js/object/define-property.js","webpack:///./~/babel-runtime/~/core-js/library/fn/object/define-property.js","webpack:///./~/babel-runtime/helpers/class-call-check.js","webpack:///./app/components/Media.jsx","webpack:///./app/components/controls/Dropdown.jsx","webpack:///./app/components/controls/Range.jsx","webpack:///./app/controllers/media.js","webpack:///./~/babel-runtime/core-js/promise.js","webpack:///./~/babel-runtime/~/core-js/library/fn/promise.js","webpack:///./~/babel-runtime/~/core-js/library/modules/es6.string.iterator.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.string-at.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.to-integer.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.iter-define.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.library.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.redef.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.hide.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.property-desc.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.support-desc.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.has.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.wks.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.shared.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.uid.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.iterators.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.iter-create.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.tag.js","webpack:///./~/babel-runtime/~/core-js/library/modules/web.dom.iterable.js","webpack:///./~/babel-runtime/~/core-js/library/modules/es6.array.iterator.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.unscope.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.iter-step.js","webpack:///./~/babel-runtime/~/core-js/library/modules/es6.promise.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.classof.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.strict-new.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.for-of.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.iter-call.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.is-array-iter.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.to-length.js","webpack:///./~/babel-runtime/~/core-js/library/modules/core.get-iterator-method.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.same.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.species.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.species-constructor.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.microtask.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.task.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.invoke.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.html.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.dom-create.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.mix.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.iter-detect.js","webpack:///./~/gif.js/dist/gif.js","webpack:///./~/eventemitter3/index.js","webpack:///./app/controllers/capture.js","webpack:///./app/controllers/whammy.js"],"names":[],"mappings":";;;;;;;;;;;;;;;qBAAO,CAAmB;;;;kCAGF,CAAO;;;;qCACN,GAAW;;;;kCACR,GAAO;;uCACR,GAAa;;;;qCAGxB,GAAY;;;;;;0CAGZ,GAAkB;;;;;;6CAGT,GAAqB;;;;;;oCAGgB,GAAW;;;;;AAMzE,KAAM,KAAK,GAAG,8CAAgB;;;;;;;AAO9B,+BAAa,EAAE,CAAC,SAAS,EAAE,iBAAO,EAAI;AACrC,OAAK,CAAC,QAAQ,CAAC,yBAAW,OAAO,CAAC,CAAC;EACnC,CAAC;;;AAGF,+BAAa,EAAE,CAAC,QAAQ,EAAE,UAAC,MAAM,EAAE,IAAI,EAAK;;AAE3C,OAAK,CAAC,QAAQ,CAAC,wBAAU,MAAM,CAAC,CAAC;;;AAGjC,OAAK,CAAC,QAAQ,CAAC,yBAAY,IAAI,GAAG,sBAAa,MAAM,GAAG,sBAAa,QAAQ,CAAE,CAAC;EAChF,CAAC;;;AAGF,+BAAa,EAAE,CAAC,UAAU,EAAE,kBAAQ,EAAI;;EAEvC,CAAC;;;AAGF,+BAAa,EAAE,CAAC,SAAS,EAAE,UAAC,UAAU,EAAK;AAC1C,SAAO,CAAC,GAAG,CAAC,SAAS,EAAE,UAAU,CAAC;;AAElC,OAAK,CAAC,QAAQ,CAAC,yBAAW,UAAU,CAAC,CAAC;;;AAGtC,OAAK,CAAC,QAAQ,CAAC,yBAAW,sBAAa,QAAQ,CAAC,CAAC;EACjD,CAAC;;;;;;;AAQF,+BAAa,SAAS,EAAE;;;;;;AAOxB,uBAAS,MAAM,CACb;;IAAU,KAAK,EAAG,KAAO;EACvB,kEAAO;EACE,EACZ,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CACpC,C;;;;;;AC7ED;;AAEA;AACA;AACA;AACA;AACA;;AAEA,2B;;;;;;ACRA,0C;;;;;;;;;;ACAA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;;AAEA;;;;;;;ACFA;;AAEA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,6C;;;;;;AC9BA;;AAEA;AACA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB;AACA;AACA,YAAW,IAAI;AACf;AACA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,IAAI;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,gBAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,gBAAe;AACf;AACA;AACA;AACA,eAAc,yBAAyB;AACvC;;AAEA;AACA;AACA;AACA,aAAY,yBAAyB;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;AClKA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAW,IAAI;AACf,cAAa,QAAQ;AACrB;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,qC;;;;;;AC7BA;;AAEA;AACA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qEAAoE;AACpE;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4CAA2C,sCAAsC;;AAEjF;AACA;AACA;;AAEA;AACA,oCAAmC,aAAa;AAChD;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qC;;;;;;AClIA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG,IAAI;AACP;;AAEA,qC;;;;;;ACnBA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG,IAAI;AACP;;AAEA,qC;;;;;;ACrBA;;AAEA;AACA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,gBAAgB;AAC3B;AACA;AACA;AACA,YAAW,SAAS;AACpB;AACA;AACA,cAAa,gBAAgB;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA,qC;;;;;;ACtDA;;AAEA;;AAEA,oDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,YAAY;AACvB,cAAa,SAAS;AACtB;;AAEA;AACA,yEAAwE,aAAa;AACrF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA,yBAAwB;AACxB;AACA,QAAO;AACP;AACA;AACA;;AAEA,qC;;;;;;AC5DA;AACA;AACA;AACA,YAAW,YAAY;AACvB,cAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mEAAkE,aAAa;AAC/E;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA,qC;;;;;;ACxBA;;AAEA;;AAEA,gCAA+B,qDAAqD;;AAEpF;;AAEA;;AAEA;;AAEA,uD;;;;;;ACZA;;AAEA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,EAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;ACpEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,EAAC;AACD,qC;;;;;;ACXA;;AAEA;;AAEA,oDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA,qBAAoB;AACpB;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,yEAAwE;;AAExE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,uBAAsB;AACtB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;;AAEA;AACA,oGAAmG,gBAAgB;;AAEnH;AACA;;AAEA;AACA;AACA,8EAA6E,mBAAmB,WAAW;AAC3G;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qC;;;;;;ACvQA;;AAEA;AAC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;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,2B;;;;;;AC3CA,mBAAkB,yD;;;;;;ACAlB;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACZA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC,E;;;;;;ACPD;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACLA;AACA;AACA;AACA;AACA,G;;;;;;ACJA,kBAAiB;;AAEjB;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA,oDAA8C;AAC9C;AACA;AACA,8DAAyD,OAAO,EAAE;AAClE,G;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C,kEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,+DAA8D;AAC9D;AACA;AACA;AACA,YAAW;AACX,YAAW;AACX,YAAW;AACX,YAAW;AACX,aAAY;AACZ,aAAY;AACZ,uB;;;;;;AC9CA;AACA;AACA;AACA,wCAAuC,gC;;;;;;ACHvC,8BAA6B;AAC7B,sCAAqC,gC;;;;;;ACDrC;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,G;;;;;;ACNA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA,2B;;;;;;ACtBA,mBAAkB,yD;;;;;;ACAlB;AACA;AACA;AACA,G;;;;;;ACHA,mBAAkB,yD;;;;;;ACAlB;AACA,iE;;;;;;ACDA;AACA;AACA,yBAAwB,6CAA6C,E;;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E,EAAC,E;;;;;;ACHD,wBAAuB;AACvB;AACA;AACA,G;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACLA;AACA;AACA,oDAAmD;AACnD;AACA,wCAAuC;AACvC,G;;;;;;ACLA;AACA;AACA;AACA;AACA,G;;;;;;ACJA,qB;;;;;;ACAA;AACA;AACA;;AAEA;AACA,8FAAkF,aAAa,EAAE;;AAEjG;AACA,wDAAuD,uCAA2C;AAClG;AACA,G;;;;;;ACVA;AACA;AACA;;AAEA;AACA,mEAAkE,+BAA+B;AACjG,G;;;;;;ACNA;AACA;AACA,iE;;;;;;ACFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAgC;AAChC,eAAc;AACd,kBAAiB;AACjB;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,uB;;;;;;ACjCA,6BAA4B,e;;;;;;ACA5B;AACA,WAAU;AACV,G;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAA+B;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C,cAAc,WAAW;AACnE;AACA,yCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B,yBAAwB,2BAA2B;AACnD,QAAO;AACP;AACA;AACA,IAAG,UAAU,eAAe;AAC5B;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,oBAAmB,gCAAgC;AACnD,UAAS;AACT;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH,mBAAkB,oBAAoB,KAAK;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA,8CAA6C,WAAW;AACxD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAuC,QAAQ,EAAE;AACjD;AACA,EAAC;AACD;AACA;AACA;AACA;AACA,oCAAmC,QAAQ,EAAE;AAC7C;AACA,EAAC;AACD;AACA,oCAAmC;AACnC,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA,EAAC,E;;;;;;ACtQD;AACA;AACA;AACA;AACA,0BAAyB,kBAAkB,EAAE;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACfA;AACA;AACA;AACA,G;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAgE,gBAAgB;AAChF;AACA,IAAG,2CAA2C,gCAAgC;AAC9E;AACA;AACA,G;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,G;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACLA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D,G;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACPA;AACA;AACA,G;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,aAAa;AACjC,IAAG;AACH,G;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,sCAAqC,oBAAoB,EAAE;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,IAAG;AACH,G;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AC3EA;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EA,0CAAyC,SAAS;AAClD;AACA;;AAEA;AACA,IAAG;AACH;AACA;;AAEA,gBAAe,YAAY;AAC3B;;AAEA;AACA,4DAA2D;AAC3D,gEAA+D;AAC/D,oEAAmE;AACnE;AACA,2DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,YAAW,MAAM;AACjB,YAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,iDAAgD,YAAY;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA,kCAAiC;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;mCCrQoB,GAAU;;;;AAE9B,UAAS,SAAS,CAAC,IAAI,EAAC;AACvB,MAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;;AAE/B,MAAI,WAAW,GAAG,GAAG,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;AAC9C,OAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;;AAE9E,MAAI,KAAK,EAAE,gBAAgB,EAAE,MAAM,EAAE,cAAc,EAAE,GAAG,CAAC;;;AAGzD,KAAG,GAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,OAAK,GAAG,GAAG,GAAG,MAAM,CAAC;AACrB,kBAAgB,GAAG,GAAG,IAAI,EAAE,CAAC;AAC7B,KAAG,GAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,QAAM,GAAG,GAAG,GAAG,MAAM,CAAC;AACtB,gBAAc,GAAG,GAAG,IAAI,EAAE,CAAC;AAC3B,SAAO;AACN,QAAK,EAAE,KAAK;AACZ,SAAM,EAAE,MAAM;AACd,OAAI,EAAE,GAAG;AACT,OAAI,EAAE,IAAI;GACV;EACD;;AAED,UAAS,SAAS,CAAC,MAAM,EAAC;AACzB,MAAI,MAAM,GAAG,CAAC,CAAC;AACf,MAAI,MAAM,GAAG,EAAE,CAAC;;AAEhB,SAAO,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE;AAC9B,OAAI,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;AAClC,SAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC;AAC9B,OAAI,EAAE,IAAI,MAAM,IAAI,EAAE,IAAI,MAAM,EAAE;AACjC,QAAI,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,UAAS,CAAC,EAAC;AACxE,SAAI,QAAQ,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC3C,YAAQ,IAAI,KAAK,CAAC,CAAC,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAE,IAAI,CAAC,GAAG,CAAC,GAAG,QAAQ;KAChE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,EAAC,CAAC,CAAC,CAAC;AACf,QAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;AAC9C,UAAM,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;AACtB,UAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IACjC,MAAM,IAAI,EAAE,IAAI,MAAM,EAAE;;AAExB,UAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;AAC3C,UAAM,GAAG,MAAM,CAAC,MAAM,CAAC;IACvB,MAAM;;AAEN,UAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;AAC3C,UAAM,GAAG,MAAM,CAAC,MAAM,CAAC;IACvB;GACD;;AAED,SAAO,MAAM,CAAC;EACd;;sBAGc,UAAS,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,QAAQ,EAAC;AAClD,MAAM,UAAU,GAAG,EAAE;;AAErB,WAAS,YAAY,GAAG;AACvB,MAAG,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;;AAEjD,OAAM,IAAI,GAAG,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC3F,OAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,GAAG;;AAE1B,aAAU,CAAC,IAAI,CAAC,IAAI,CAAC;;AAErB,OAAI,UAAU,CAAC,MAAM,KAAK,MAAM,CAAC,MAAM,EAAE,OAAO,YAAY,CAAC,UAAU,CAAC;AACxE,WAAQ,CAAC,KAAK,EAAE,UAAU,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;AAClD,wBAAqB,CAAC,YAAY,CAAC;GACnC;;AAED,WAAS,YAAY,CAAC,MAAM,EAAE;AAC7B,WAAQ,CAAC,IAAI,EAAE,oBAAO,MAAM,CAAC,MAAM,CAAC,CAAC;GACrC;;AAED,uBAAqB,CAAC,YAAY,CAAC;EACnC;;;;;;;;;;;;;;;;;;;ACtED,OAAM,CAAC,MAAM,GAAG,CAAC,YAAU;;;;AAI1B,WAAS,MAAM,CAAC,MAAM,EAAE,aAAa,EAAC;AACrC,OAAI,IAAI,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC;;;AAG/B,OAAI,oBAAoB,GAAG,KAAK,CAAC;;AAEjC,OAAI,IAAI,GAAG,CACV;AACC,QAAI,EAAE,UAAU;AAChB,UAAM,EAAE,CACP;AACC,WAAM,EAAE,CAAC;AACT,SAAI,EAAE,MAAM;KACZ,EACD;AACC,WAAM,EAAE,CAAC;AACT,SAAI,EAAE,MAAM;KACZ,EACD;AACC,WAAM,EAAE,CAAC;AACT,SAAI,EAAE,MAAM;KACZ,EACD;AACC,WAAM,EAAE,CAAC;AACT,SAAI,EAAE,MAAM;KACZ,EACD;AACC,WAAM,EAAE,MAAM;AACd,SAAI,EAAE,MAAM;KACZ,EACD;AACC,WAAM,EAAE,CAAC;AACT,SAAI,EAAE,MAAM;KACZ,EACD;AACC,WAAM,EAAE,CAAC;AACT,SAAI,EAAE,MAAM;KACZ,CACD;IACD,EACD;AACC,QAAI,EAAE,UAAU;AAChB,UAAM,EAAE,CACP;AACC,SAAI,EAAE,UAAU;AAChB,WAAM,EAAE,CACP;AACC,YAAM,EAAE,GAAG;AACX,UAAI,EAAE,QAAQ;MACd,EACD;AACC,YAAM,EAAE,QAAQ;AAChB,UAAI,EAAE,MAAM;MACZ,EACD;AACC,YAAM,EAAE,QAAQ;AAChB,UAAI,EAAE,MAAM;MACZ,EACD;AACC,YAAM,EAAE,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC;AACrC,UAAI,EAAE,MAAM;MACZ,CACD;KACD,EACD;AACC,SAAI,EAAE,UAAU;AAChB,WAAM,EAAE,CACP;AACC,UAAI,EAAE,IAAI;AACV,YAAM,EAAE,CACP;AACC,aAAM,EAAE,CAAC;AACT,WAAI,EAAE,IAAI;OACV,EACD;AACC,aAAM,EAAE,CAAC;AACT,WAAI,EAAE,MAAM;OACZ,EACD;AACC,aAAM,EAAE,CAAC;AACT,WAAI,EAAE,IAAI;OACV,EACD;AACC,aAAM,EAAE,KAAK;AACb,WAAI,EAAE,QAAQ;OACd,EACD;AACC,aAAM,EAAE,OAAO;AACf,WAAI,EAAE,IAAI;OACV,EACD;AACC,aAAM,EAAE,KAAK;AACb,WAAI,EAAE,QAAQ;OACd,EACD;AACC,aAAM,EAAE,CAAC;AACT,WAAI,EAAE,IAAI;OACV,EACD;AACC,WAAI,EAAE,IAAI;AACV,aAAM,EAAE,CACP;AACC,cAAM,EAAE,IAAI,CAAC,KAAK;AAClB,YAAI,EAAE,IAAI;QACV,EACD;AACC,cAAM,EAAE,IAAI,CAAC,MAAM;AACnB,YAAI,EAAE,IAAI;QACV,CACD;OACD,CACD;MACD,CACD;KACD,EACD;AACC,SAAI,EAAE,UAAU;AAChB,WAAM,EAAE;;MAEP;KACD;;;KAGD;IACD,CACA,CAAC;;AAGH,OAAI,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACtB,OAAI,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;;;AAG3B,OAAI,WAAW,GAAG,CAAC,CAAC;AACpB,OAAI,eAAe,GAAG,CAAC,CAAC;AACxB,UAAM,WAAW,GAAG,MAAM,CAAC,MAAM,EAAC;;AAEjC,QAAI,QAAQ,GAAG;AACb,SAAI,EAAE,IAAI;AACV,WAAM,EAAE,CACP;AACC,YAAM,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;AACnC,UAAI,EAAE,IAAI;MACV,EACD;AACC,UAAI,EAAE,IAAI;AACV,YAAM,EAAE,CACP;AACC,aAAM,EAAE,CAAC;AACT,WAAI,EAAE,IAAI;OACV,EACD;AACC,aAAM,EAAE,CAAC;AACT,aAAM,EAAE,CAAC;AACT,WAAI,EAAE,IAAI;OACV,CACD;MACD,CACD;KACD,CAAC;;AAEH,QAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;AAEzB,QAAI,aAAa,GAAG,EAAE,CAAC;AACvB,QAAI,eAAe,GAAG,CAAC,CAAC;AACxB,OAAG;AACF,kBAAa,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;AACxC,oBAAe,IAAI,MAAM,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC;AAChD,gBAAW,EAAE,CAAC;KACd,QAAM,WAAW,GAAG,MAAM,CAAC,MAAM,IAAI,eAAe,GAAG,oBAAoB,EAAE;;AAE9E,QAAI,cAAc,GAAG,CAAC,CAAC;AACvB,QAAI,OAAO,GAAG;AACZ,SAAI,EAAE,UAAU;AAChB,WAAM,EAAE,CACP;AACC,YAAM,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;AACnC,UAAI,EAAE,IAAI;MACV,CACD,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,UAAS,IAAI,EAAC;AACxC,UAAI,KAAK,GAAG,eAAe,CAAC;AAC3B,kBAAW,EAAE,CAAC;AACd,YAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;AACzB,gBAAS,EAAE,CAAC;AACZ,eAAQ,EAAE,CAAC;AACX,aAAM,EAAE,CAAC;AACT,eAAQ,EAAE,CAAC;AACX,eAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC;OACpC,CAAC,CAAC;AACH,oBAAc,IAAI,IAAI,CAAC,QAAQ,CAAC;AAChC,aAAO;AACN,WAAI,EAAE,KAAK;AACX,SAAE,EAAE,IAAI;OACR,CAAC;MACF,CAAC,CAAC;KACH;;;AAGF,WAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAC3B,mBAAe,IAAI,eAAe,CAAC;IACnC;;;AAGD,OAAI,QAAQ,GAAG,CAAC,CAAC;AACjB,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AAC3C,QAAI,CAAC,IAAI,CAAC,EAAE;AACX,SAAI,CAAC,IAAI,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,QAAQ,CAAC;KAC/C;AACD,QAAI,IAAI,GAAG,YAAY,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC;AAC1D,YAAQ,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,MAAM,CAAC;AACxD,QAAI,CAAC,IAAI,CAAC,EAAE;;;AAEX,YAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;KACvB;IACD;;AAED,UAAO,YAAY,CAAC,IAAI,EAAE,aAAa,CAAC;GACxC;;;;AAID,WAAS,WAAW,CAAC,MAAM,EAAC;AAC3B,OAAI,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK;OAC1B,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM;OACzB,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;AAC/B,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AACrC,QAAG,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,KAAK,EAAE,MAAM,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAwB,CAAC;AACjF,QAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,MAAM,EAAE,MAAM,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,yBAAyB,CAAC;AACpF,QAAG,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,MAAM,EAAE,MAAM,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,qDAAqD,CAAC;AAC3I,YAAQ,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;IAC/B;AACD,UAAO;AACN,YAAQ,EAAE,QAAQ;AAClB,SAAK,EAAE,KAAK;AACZ,UAAM,EAAE,MAAM;IACd,CAAC;GACF;;AAGD,WAAS,WAAW,CAAC,GAAG,EAAC;AACxB,OAAI,KAAK,GAAG,EAAE,CAAC;AACf,UAAM,GAAG,GAAG,CAAC,EAAC;AACb,SAAK,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;AACtB,OAAG,GAAG,GAAG,IAAI,CAAC;IACd;AACD,UAAO,IAAI,UAAU,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;GACvC;;AAED,WAAS,gBAAgB,CAAC,GAAG,EAAE,IAAI,EAAC;AACnC,OAAI,KAAK,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;AACjC,QAAI,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAC;AACjC,SAAK,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC;AACtB,OAAG,GAAG,GAAG,IAAI,CAAC,CAAC;IACf;AACD,UAAO,KAAK,CAAC;GACb;;AAED,WAAS,WAAW,CAAC,GAAG,EAAC;;;AAGxB,OAAI,GAAG,GAAG,IAAI,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACrC,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AAClC,OAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;IAC1B;AACD,UAAO,GAAG,CAAC;;;;;GAKX;;;;;;AAOD,WAAS,YAAY,CAAC,IAAI,EAAC;AAC1B,OAAI,IAAI,GAAG,EAAE,CAAC;AACd,OAAI,GAAG,GAAI,IAAI,CAAC,MAAM,GAAG,CAAC,GAAK,IAAI,KAAK,CAAC,CAAC,GAAG,CAAC,GAAI,IAAI,CAAC,MAAM,GAAG,CAAE,CAAC,CAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;AACpF,OAAI,GAAG,GAAG,GAAG,IAAI,CAAC;AAClB,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,IAAG,CAAC,EAAC;AACrC,QAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;IACvC;AACD,UAAO,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;GAC5B;;AAED,WAAS,YAAY,CAAC,IAAI,EAAE,aAAa,EAAC;AACzC,OAAI,IAAI,GAAG,EAAE,CAAC;AACd,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AACnC,QAAI,EAAE,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,EAAC;;AAEtB,SAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AACnB,cAAS;KACT;;AAED,QAAI,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;AACxB,QAAG,OAAO,IAAI,IAAI,QAAQ,EAAE,IAAI,GAAG,YAAY,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;AACrE,QAAG,OAAO,IAAI,IAAI,QAAQ,EAAE,IAAI,GAAI,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC,GAAI,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/H,QAAG,OAAO,IAAI,IAAI,QAAQ,EAAE,IAAI,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC;;AAErD,QAAG,IAAI,CAAC,MAAM,EAAC;AACd,SAAI,CAAC,GAAG,CAAC,CAAC;KACV;;AAED,QAAI,GAAG,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,MAAM,CAAC;AACtD,QAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC;AAC/D,QAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC/B,QAAI,MAAM,GAAI,IAAI,KAAK,CAAE,MAAM,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAI,QAAQ,CAAC,MAAM,CAAC,CAAE,IAAI,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC;AACtF,QAAI,IAAI,GAAI,IAAI,KAAK,CAAC,MAAM,CAAC,CAAE,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC;;;;;;AAMxD,QAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACnC,QAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;AAC9B,QAAI,CAAC,IAAI,CAAC,IAAI,CAAC;IAGf;;;AAGD,OAAG,aAAa,EAAC;;AAEhB,QAAI,MAAM,GAAG,WAAW,CAAC,IAAI,CAAC;AAC9B,WAAO,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC;IAC9B,MAAI;AACJ,WAAO,IAAI,IAAI,CAAC,IAAI,EAAE,EAAC,IAAI,EAAE,YAAY,EAAC,CAAC,CAAC;IAC5C;GACD;;AAED,WAAS,WAAW,CAAC,GAAG,EAAE,SAAS,EAAC;AACnC,OAAG,SAAS,IAAI,IAAI,EAAC;AACpB,aAAS,GAAG,EAAE,CAAC;IACf;AACD,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AAClC,QAAG,OAAO,GAAG,CAAC,CAAC,CAAC,IAAI,QAAQ,EAAC;;AAE5B,gBAAW,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC;KAC9B,MAAI;;AAEJ,cAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KACvB;IACD;AACD,UAAO,SAAS,CAAC;GACjB;;;;;;;;;AASD,WAAS,YAAY,CAAC,IAAI,EAAC;AAC1B,OAAI,IAAI,GAAG,EAAE,CAAC;AACd,OAAI,GAAG,GAAI,IAAI,CAAC,MAAM,GAAG,CAAC,GAAK,IAAI,KAAK,CAAC,CAAC,GAAG,CAAC,GAAI,IAAI,CAAC,MAAM,GAAG,CAAE,CAAC,CAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;AACpF,OAAI,GAAG,GAAG,GAAG,IAAI,CAAC;AAClB,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,IAAG,CAAC,EAAC;AACrC,QAAI,IAAI,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;IACzD;AACD,UAAO,IAAI,CAAC;GACZ;;AAED,WAAS,gBAAgB,CAAC,IAAI,EAAC;AAC9B,OAAI,IAAI,GAAG,EAAE,CAAC;AACd,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AACnC,QAAI,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;AACxB,QAAG,OAAO,IAAI,IAAI,QAAQ,EAAE,IAAI,GAAG,gBAAgB,CAAC,IAAI,CAAC,CAAC;AAC1D,QAAG,OAAO,IAAI,IAAI,QAAQ,EAAE,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;;AAElE,QAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;AACtB,QAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC;AAC/D,QAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC/B,QAAI,MAAM,GAAI,IAAI,KAAK,CAAE,MAAM,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAI,QAAQ,CAAC,MAAM,CAAC,CAAE,IAAI,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC;AACtF,QAAI,IAAI,GAAI,IAAI,KAAK,CAAC,MAAM,CAAC,CAAE,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC;;AAExD,QAAI,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;IAEzE;AACD,UAAO,IAAI,CAAC;GACZ;;;;;;AAMD,WAAS,eAAe,CAAC,IAAI,EAAC;AAC7B,OAAI,KAAK,GAAG,CAAC,CAAC;AACd,OAAI,IAAI,CAAC,QAAQ,EAAE,KAAK,IAAI,GAAG,CAAC;AAChC,OAAI,IAAI,CAAC,SAAS,EAAE,KAAK,IAAI,CAAC,CAAC;AAC/B,OAAI,IAAI,CAAC,MAAM,EAAE,KAAK,IAAK,IAAI,CAAC,MAAM,IAAI,CAAE,CAAC;AAC7C,OAAI,IAAI,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC,CAAC;AACjC,OAAI,IAAI,CAAC,QAAQ,GAAG,GAAG,EAAE;AACxB,UAAM,iCAAiC,CAAC;IACxC;AACD,OAAI,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,EAAE,IAAI,CAAC,QAAQ,IAAI,CAAC,EAAE,IAAI,CAAC,QAAQ,GAAG,IAAI,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,UAAS,CAAC,EAAC;AAChG,WAAO,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;IAC7B,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;;AAEzB,UAAO,GAAG,CAAC;GACX;;;;AAID,WAAS,SAAS,CAAC,IAAI,EAAC;AACvB,OAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;;AAE/B,OAAI,WAAW,GAAG,GAAG,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;AAC9C,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;;AAE9E,OAAI,KAAK,EAAE,gBAAgB,EAAE,MAAM,EAAE,cAAc,EAAE,GAAG,CAAC;;;AAGzD,MAAG,GAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,QAAK,GAAG,GAAG,GAAG,MAAM,CAAC;AACrB,mBAAgB,GAAG,GAAG,IAAI,EAAE,CAAC;AAC7B,MAAG,GAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,SAAM,GAAG,GAAG,GAAG,MAAM,CAAC;AACtB,iBAAc,GAAG,GAAG,IAAI,EAAE,CAAC;AAC3B,UAAO;AACN,SAAK,EAAE,KAAK;AACZ,UAAM,EAAE,MAAM;AACd,QAAI,EAAE,GAAG;AACT,QAAI,EAAE,IAAI;IACV;GACD;;;;;;;;;AASD,WAAS,SAAS,CAAC,MAAM,EAAC;AACzB,OAAI,MAAM,GAAG,CAAC,CAAC;AACf,OAAI,MAAM,GAAG,EAAE,CAAC;;AAEhB,UAAO,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE;AAC9B,QAAI,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;AAClC,UAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC;AAC9B,QAAI,EAAE,IAAI,MAAM,IAAI,EAAE,IAAI,MAAM,EAAE;AACjC,SAAI,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,UAAS,CAAC,EAAC;AACxE,UAAI,QAAQ,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC3C,aAAQ,IAAI,KAAK,CAAC,CAAC,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAE,IAAI,CAAC,GAAG,CAAC,GAAG,QAAQ;MAChE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,EAAC,CAAC,CAAC,CAAC;AACf,SAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;AAC9C,WAAM,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;AACtB,WAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;KACjC,MAAM,IAAI,EAAE,IAAI,MAAM,EAAE;;AAExB,WAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;AAC3C,WAAM,GAAG,MAAM,CAAC,MAAM,CAAC;KACvB,MAAM;;AAEN,WAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;AAC3C,WAAM,GAAG,MAAM,CAAC,MAAM,CAAC;KACvB;IACD;AACD,UAAO,MAAM,CAAC;GACd;;;;;AAKD,WAAS,cAAc,CAAC,GAAG,EAAC;AAC3B,UAAO,EAAE,CAAC,KAAK,CAAC,IAAI,CACnB,IAAI,UAAU,CAEZ,IAAI,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC;IACtB,MAAM,CAAC;AACR,IAAC,CAAC;IACH,GAAG,CAAC,UAAS,CAAC,EAAC;;AACf,WAAO,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;IAC7B,CAAC,CACD,OAAO,EAAE;IACT,IAAI,CAAC,EAAE,CAAC;GACV;;AAED,WAAS,WAAW,CAAC,KAAK,EAAE,OAAO,EAAC;;AACnC,OAAI,CAAC,MAAM,GAAG,EAAE,CAAC;AACjB,OAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC;AAC7B,OAAI,CAAC,OAAO,GAAG,OAAO,IAAI,GAAG,CAAC;GAC9B;;AAED,aAAW,CAAC,SAAS,CAAC,GAAG,GAAG,UAAS,KAAK,EAAE,QAAQ,EAAC;AACpD,OAAG,OAAO,QAAQ,IAAI,WAAW,IAAI,IAAI,CAAC,QAAQ,EAAE,MAAM,6CAA6C,CAAC;AACxG,OAAG,OAAO,QAAQ,IAAI,WAAW,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,gEAAgE,CAAC;AAC5H,OAAG,KAAK,CAAC,MAAM,EAAC;;AACf,SAAK,GAAG,KAAK,CAAC,MAAM,CAAC;IACrB;AACD,OAAG,KAAK,CAAC,SAAS,EAAC;AAClB,SAAK,GAAG,KAAK,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC;IACnD,MAAK,IAAG,OAAO,KAAK,IAAI,QAAQ,EAAC;AACjC,UAAM,+FAA+F;IACrG;AACD,OAAI,CAAE,6BAA6B,CAAE,IAAI,CAAC,KAAK,CAAC,EAAE;AACjD,UAAM,iFAAiF,CAAC;IACxF;AACD,OAAI,CAAC,MAAM,CAAC,IAAI,CAAC;AAChB,SAAK,EAAE,KAAK;AACZ,YAAQ,EAAE,QAAQ,IAAI,IAAI,CAAC,QAAQ;IACnC,CAAC;GACF;;AAED,aAAW,CAAC,SAAS,CAAC,OAAO,GAAG,UAAS,aAAa,EAAC;AACtD,UAAO,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAS,KAAK,EAAC;AAChD,QAAI,IAAI,GAAG,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7D,QAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;AAC/B,WAAO,IAAI,CAAC;IACZ,CAAC,EAAE,aAAa,CAAC;GAClB;;AAED,SAAO;AACN,QAAK,EAAE,WAAW;AAClB,iBAAc,EAAE,wBAAS,MAAM,EAAE,GAAG,EAAE,aAAa,EAAC;AACnD,WAAO,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,UAAS,KAAK,EAAC;AACvC,SAAI,IAAI,GAAG,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACtD,SAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,GAAG,CAAC;AAC3B,YAAO,IAAI,CAAC;KACZ,CAAC,EAAE,aAAa,CAAC;IAClB;AACD,SAAM,EAAE,MAAM;;GAEd;EACD,GAAG;;sBAEW,MAAM,CAAC,MAAM","file":"index.js","sourcesContent":["import 'styles/style.scss'\n\n// Dependencies\nimport React \t\t\t\t\t from 'react'\nimport ReactDOM \t\t\t from 'react-dom'\nimport { createStore } from 'redux'\nimport { Provider } \t from 'react-redux'\n\n// Reduced State\nimport app from './reducers'\n\n// Components\nimport App from './components/App'\n\n// Controllers\nimport mediaManager from './controllers/media'\n\n// Actions\nimport { setSources, setStream, setDisplay, setPreview } from './actions'\n\n// Action Constants\nimport { displayModes } from './actions'\n\n// Initialize redux store\nconst store = createStore(app)\n\n/*\n\tBind media manager events\n*/\n\n// New video sources\nmediaManager.on('sources', sources => {\n\tstore.dispatch(setSources(sources))\n})\n\n// New video streams\nmediaManager.on('stream', (stream, live) => {\n\t// Set new stream\n\tstore.dispatch(setStream(stream))\n\n\t// Check if new stream is live feed stream or recording\n\tstore.dispatch(setDisplay( live ? displayModes.RECORD : displayModes.PLAYBACK ))\n})\n\n// New video streams\nmediaManager.on('progress', progress => {\n\t// console.log('progress', progress)\n})\n\n// New capture preview\nmediaManager.on('preview', (previewUrl) => {\n\tconsole.log('preview', previewUrl)\n\t// Update the preview URL\n\tstore.dispatch(setPreview(previewUrl))\n\n\t// Set the display to playback preview mode\n\tstore.dispatch(setDisplay(displayModes.PLAYBACK))\n})\n\n\n/*\n\tStart media capture\n*/ \n\n// Get user media, or ask for permissions\nmediaManager.getStream()\n\n\n/*\n\tRender base\n*/\n\nReactDOM.render(\n\t <Provider store={ store }>\n    <App />\n  </Provider>,\n\tdocument.getElementById('container')\n)\n\n\n/** WEBPACK FOOTER **\n ** ./app/index.jsx\n **/","\"use strict\";\n\nexports[\"default\"] = function (obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n};\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/interop-require-default.js\n ** module id = 2\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./resources/styles/style.scss\n ** module id = 3\n ** module chunks = 0\n **/","'use strict';\n\nmodule.exports = require('./lib/React');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react/react.js\n ** module id = 8\n ** module chunks = 0\n **/","'use strict';\n\nmodule.exports = require('react/lib/ReactDOM');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-dom/index.js\n ** module id = 163\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _createStore = require('./createStore');\n\nvar _createStore2 = _interopRequireDefault(_createStore);\n\nvar _utilsCombineReducers = require('./utils/combineReducers');\n\nvar _utilsCombineReducers2 = _interopRequireDefault(_utilsCombineReducers);\n\nvar _utilsBindActionCreators = require('./utils/bindActionCreators');\n\nvar _utilsBindActionCreators2 = _interopRequireDefault(_utilsBindActionCreators);\n\nvar _utilsApplyMiddleware = require('./utils/applyMiddleware');\n\nvar _utilsApplyMiddleware2 = _interopRequireDefault(_utilsApplyMiddleware);\n\nvar _utilsCompose = require('./utils/compose');\n\nvar _utilsCompose2 = _interopRequireDefault(_utilsCompose);\n\nexports.createStore = _createStore2['default'];\nexports.combineReducers = _utilsCombineReducers2['default'];\nexports.bindActionCreators = _utilsBindActionCreators2['default'];\nexports.applyMiddleware = _utilsApplyMiddleware2['default'];\nexports.compose = _utilsCompose2['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux/lib/index.js\n ** module id = 164\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\nexports['default'] = createStore;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utilsIsPlainObject = require('./utils/isPlainObject');\n\nvar _utilsIsPlainObject2 = _interopRequireDefault(_utilsIsPlainObject);\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar ActionTypes = {\n  INIT: '@@redux/INIT'\n};\n\nexports.ActionTypes = ActionTypes;\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [initialState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, initialState) {\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = initialState;\n  var listeners = [];\n  var isDispatching = false;\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    listeners.push(listener);\n    var isSubscribed = true;\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n      var index = listeners.indexOf(listener);\n      listeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!_utilsIsPlainObject2['default'](action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    listeners.slice().forEach(function (listener) {\n      return listener();\n    });\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  };\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux/lib/createStore.js\n ** module id = 165\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\nexports['default'] = isPlainObject;\nvar fnToString = function fnToString(fn) {\n  return Function.prototype.toString.call(fn);\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\n\nfunction isPlainObject(obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  var proto = typeof obj.constructor === 'function' ? Object.getPrototypeOf(obj) : Object.prototype;\n\n  if (proto === null) {\n    return true;\n  }\n\n  var constructor = proto.constructor;\n\n  return typeof constructor === 'function' && constructor instanceof constructor && fnToString(constructor) === fnToString(Object);\n}\n\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux/lib/utils/isPlainObject.js\n ** module id = 166\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\nexports['default'] = combineReducers;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _createStore = require('../createStore');\n\nvar _utilsIsPlainObject = require('../utils/isPlainObject');\n\nvar _utilsIsPlainObject2 = _interopRequireDefault(_utilsIsPlainObject);\n\nvar _utilsMapValues = require('../utils/mapValues');\n\nvar _utilsMapValues2 = _interopRequireDefault(_utilsMapValues);\n\nvar _utilsPick = require('../utils/pick');\n\nvar _utilsPick2 = _interopRequireDefault(_utilsPick);\n\n/* eslint-disable no-console */\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionName = actionType && '\"' + actionType.toString() + '\"' || 'an action';\n\n  return 'Reducer \"' + key + '\" returned undefined handling ' + actionName + '. ' + 'To ignore an action, you must explicitly return the previous state.';\n}\n\nfunction getUnexpectedStateKeyWarningMessage(inputState, outputState, action) {\n  var reducerKeys = Object.keys(outputState);\n  var argumentName = action && action.type === _createStore.ActionTypes.INIT ? 'initialState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!_utilsIsPlainObject2['default'](inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + ({}).toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return reducerKeys.indexOf(key) < 0;\n  });\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerSanity(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: _createStore.ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + _createStore.ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\nfunction combineReducers(reducers) {\n  var finalReducers = _utilsPick2['default'](reducers, function (val) {\n    return typeof val === 'function';\n  });\n  var sanityError;\n\n  try {\n    assertReducerSanity(finalReducers);\n  } catch (e) {\n    sanityError = e;\n  }\n\n  var defaultState = _utilsMapValues2['default'](finalReducers, function () {\n    return undefined;\n  });\n\n  return function combination(state, action) {\n    if (state === undefined) state = defaultState;\n\n    if (sanityError) {\n      throw sanityError;\n    }\n\n    var hasChanged = false;\n    var finalState = _utilsMapValues2['default'](finalReducers, function (reducer, key) {\n      var previousStateForKey = state[key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(key, action);\n        throw new Error(errorMessage);\n      }\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n      return nextStateForKey;\n    });\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateKeyWarningMessage(state, finalState, action);\n      if (warningMessage) {\n        console.error(warningMessage);\n      }\n    }\n\n    return hasChanged ? finalState : state;\n  };\n}\n\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux/lib/utils/combineReducers.js\n ** module id = 167\n ** module chunks = 0\n **/","/**\n * Applies a function to every key-value pair inside an object.\n *\n * @param {Object} obj The source object.\n * @param {Function} fn The mapper function that receives the value and the key.\n * @returns {Object} A new object that contains the mapped values for the keys.\n */\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = mapValues;\n\nfunction mapValues(obj, fn) {\n  return Object.keys(obj).reduce(function (result, key) {\n    result[key] = fn(obj[key], key);\n    return result;\n  }, {});\n}\n\nmodule.exports = exports[\"default\"];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux/lib/utils/mapValues.js\n ** module id = 168\n ** module chunks = 0\n **/","/**\n * Picks key-value pairs from an object where values satisfy a predicate.\n *\n * @param {Object} obj The object to pick from.\n * @param {Function} fn The predicate the values must satisfy to be copied.\n * @returns {Object} The object with the values that satisfied the predicate.\n */\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = pick;\n\nfunction pick(obj, fn) {\n  return Object.keys(obj).reduce(function (result, key) {\n    if (fn(obj[key])) {\n      result[key] = obj[key];\n    }\n    return result;\n  }, {});\n}\n\nmodule.exports = exports[\"default\"];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux/lib/utils/pick.js\n ** module id = 169\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\nexports['default'] = bindActionCreators;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utilsMapValues = require('../utils/mapValues');\n\nvar _utilsMapValues2 = _interopRequireDefault(_utilsMapValues);\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(undefined, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null || actionCreators === undefined) {\n    // eslint-disable-line no-eq-null\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  return _utilsMapValues2['default'](actionCreators, function (actionCreator) {\n    return bindActionCreator(actionCreator, dispatch);\n  });\n}\n\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux/lib/utils/bindActionCreators.js\n ** module id = 170\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = applyMiddleware;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _compose = require('./compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (next) {\n    return function (reducer, initialState) {\n      var store = next(reducer, initialState);\n      var _dispatch = store.dispatch;\n      var chain = [];\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch(action) {\n          return _dispatch(action);\n        }\n      };\n      chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = _compose2['default'].apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux/lib/utils/applyMiddleware.js\n ** module id = 171\n ** module chunks = 0\n **/","/**\n * Composes single-argument functions from right to left.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing functions from right to\n * left. For example, compose(f, g, h) is identical to arg => f(g(h(arg))).\n */\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = compose;\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return function (arg) {\n    return funcs.reduceRight(function (composed, f) {\n      return f(composed);\n    }, arg);\n  };\n}\n\nmodule.exports = exports[\"default\"];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux/lib/utils/compose.js\n ** module id = 172\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequire(obj) { return obj && obj.__esModule ? obj['default'] : obj; }\n\nvar _componentsProvider = require('./components/Provider');\n\nexports.Provider = _interopRequire(_componentsProvider);\n\nvar _componentsConnect = require('./components/connect');\n\nexports.connect = _interopRequire(_componentsConnect);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-redux/lib/index.js\n ** module id = 173\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _utilsStoreShape = require('../utils/storeShape');\n\nvar _utilsStoreShape2 = _interopRequireDefault(_utilsStoreShape);\n\nvar didWarnAboutReceivingStore = false;\nfunction warnAboutReceivingStore() {\n  if (didWarnAboutReceivingStore) {\n    return;\n  }\n\n  didWarnAboutReceivingStore = true;\n  console.error( // eslint-disable-line no-console\n  '<Provider> does not support changing `store` on the fly. ' + 'It is most likely that you see this error because you updated to ' + 'Redux 2.x and React Redux 2.x which no longer hot reload reducers ' + 'automatically. See https://github.com/rackt/react-redux/releases/' + 'tag/v2.0.0 for the migration instructions.');\n}\n\nvar Provider = (function (_Component) {\n  _inherits(Provider, _Component);\n\n  Provider.prototype.getChildContext = function getChildContext() {\n    return { store: this.store };\n  };\n\n  function Provider(props, context) {\n    _classCallCheck(this, Provider);\n\n    _Component.call(this, props, context);\n    this.store = props.store;\n  }\n\n  Provider.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var store = this.store;\n    var nextStore = nextProps.store;\n\n    if (store !== nextStore) {\n      warnAboutReceivingStore();\n    }\n  };\n\n  Provider.prototype.render = function render() {\n    var children = this.props.children;\n\n    return _react.Children.only(children);\n  };\n\n  return Provider;\n})(_react.Component);\n\nexports['default'] = Provider;\n\nProvider.propTypes = {\n  store: _utilsStoreShape2['default'].isRequired,\n  children: _react.PropTypes.element.isRequired\n};\nProvider.childContextTypes = {\n  store: _utilsStoreShape2['default'].isRequired\n};\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-redux/lib/components/Provider.js\n ** module id = 174\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nexports['default'] = _react.PropTypes.shape({\n  subscribe: _react.PropTypes.func.isRequired,\n  dispatch: _react.PropTypes.func.isRequired,\n  getState: _react.PropTypes.func.isRequired\n});\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-redux/lib/utils/storeShape.js\n ** module id = 175\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = connect;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utilsStoreShape = require('../utils/storeShape');\n\nvar _utilsStoreShape2 = _interopRequireDefault(_utilsStoreShape);\n\nvar _utilsShallowEqual = require('../utils/shallowEqual');\n\nvar _utilsShallowEqual2 = _interopRequireDefault(_utilsShallowEqual);\n\nvar _utilsIsPlainObject = require('../utils/isPlainObject');\n\nvar _utilsIsPlainObject2 = _interopRequireDefault(_utilsIsPlainObject);\n\nvar _utilsWrapActionCreators = require('../utils/wrapActionCreators');\n\nvar _utilsWrapActionCreators2 = _interopRequireDefault(_utilsWrapActionCreators);\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar defaultMapStateToProps = function defaultMapStateToProps() {\n  return {};\n};\nvar defaultMapDispatchToProps = function defaultMapDispatchToProps(dispatch) {\n  return { dispatch: dispatch };\n};\nvar defaultMergeProps = function defaultMergeProps(stateProps, dispatchProps, parentProps) {\n  return _extends({}, parentProps, stateProps, dispatchProps);\n};\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\n// Helps track hot reloading.\nvar nextVersion = 0;\n\nfunction connect(mapStateToProps, mapDispatchToProps, mergeProps) {\n  var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n  var shouldSubscribe = Boolean(mapStateToProps);\n  var finalMapStateToProps = mapStateToProps || defaultMapStateToProps;\n  var finalMapDispatchToProps = _utilsIsPlainObject2['default'](mapDispatchToProps) ? _utilsWrapActionCreators2['default'](mapDispatchToProps) : mapDispatchToProps || defaultMapDispatchToProps;\n  var finalMergeProps = mergeProps || defaultMergeProps;\n  var shouldUpdateStateProps = finalMapStateToProps.length > 1;\n  var shouldUpdateDispatchProps = finalMapDispatchToProps.length > 1;\n  var _options$pure = options.pure;\n  var pure = _options$pure === undefined ? true : _options$pure;\n  var _options$withRef = options.withRef;\n  var withRef = _options$withRef === undefined ? false : _options$withRef;\n\n  // Helps track hot reloading.\n  var version = nextVersion++;\n\n  function computeStateProps(store, props) {\n    var state = store.getState();\n    var stateProps = shouldUpdateStateProps ? finalMapStateToProps(state, props) : finalMapStateToProps(state);\n\n    _invariant2['default'](_utilsIsPlainObject2['default'](stateProps), '`mapStateToProps` must return an object. Instead received %s.', stateProps);\n    return stateProps;\n  }\n\n  function computeDispatchProps(store, props) {\n    var dispatch = store.dispatch;\n\n    var dispatchProps = shouldUpdateDispatchProps ? finalMapDispatchToProps(dispatch, props) : finalMapDispatchToProps(dispatch);\n\n    _invariant2['default'](_utilsIsPlainObject2['default'](dispatchProps), '`mapDispatchToProps` must return an object. Instead received %s.', dispatchProps);\n    return dispatchProps;\n  }\n\n  function _computeNextState(stateProps, dispatchProps, parentProps) {\n    var mergedProps = finalMergeProps(stateProps, dispatchProps, parentProps);\n    _invariant2['default'](_utilsIsPlainObject2['default'](mergedProps), '`mergeProps` must return an object. Instead received %s.', mergedProps);\n    return mergedProps;\n  }\n\n  return function wrapWithConnect(WrappedComponent) {\n    var Connect = (function (_Component) {\n      _inherits(Connect, _Component);\n\n      Connect.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n        if (!pure) {\n          this.updateStateProps(nextProps);\n          this.updateDispatchProps(nextProps);\n          this.updateState(nextProps);\n          return true;\n        }\n\n        var storeChanged = nextState.storeState !== this.state.storeState;\n        var propsChanged = !_utilsShallowEqual2['default'](nextProps, this.props);\n        var mapStateProducedChange = false;\n        var dispatchPropsChanged = false;\n\n        if (storeChanged || propsChanged && shouldUpdateStateProps) {\n          mapStateProducedChange = this.updateStateProps(nextProps);\n        }\n\n        if (propsChanged && shouldUpdateDispatchProps) {\n          dispatchPropsChanged = this.updateDispatchProps(nextProps);\n        }\n\n        if (propsChanged || mapStateProducedChange || dispatchPropsChanged) {\n          this.updateState(nextProps);\n          return true;\n        }\n\n        return false;\n      };\n\n      function Connect(props, context) {\n        _classCallCheck(this, Connect);\n\n        _Component.call(this, props, context);\n        this.version = version;\n        this.store = props.store || context.store;\n\n        _invariant2['default'](this.store, 'Could not find \"store\" in either the context or ' + ('props of \"' + this.constructor.displayName + '\". ') + 'Either wrap the root component in a <Provider>, ' + ('or explicitly pass \"store\" as a prop to \"' + this.constructor.displayName + '\".'));\n\n        this.stateProps = computeStateProps(this.store, props);\n        this.dispatchProps = computeDispatchProps(this.store, props);\n        this.state = { storeState: null };\n        this.updateState();\n      }\n\n      Connect.prototype.computeNextState = function computeNextState() {\n        var props = arguments.length <= 0 || arguments[0] === undefined ? this.props : arguments[0];\n\n        return _computeNextState(this.stateProps, this.dispatchProps, props);\n      };\n\n      Connect.prototype.updateStateProps = function updateStateProps() {\n        var props = arguments.length <= 0 || arguments[0] === undefined ? this.props : arguments[0];\n\n        var nextStateProps = computeStateProps(this.store, props);\n        if (_utilsShallowEqual2['default'](nextStateProps, this.stateProps)) {\n          return false;\n        }\n\n        this.stateProps = nextStateProps;\n        return true;\n      };\n\n      Connect.prototype.updateDispatchProps = function updateDispatchProps() {\n        var props = arguments.length <= 0 || arguments[0] === undefined ? this.props : arguments[0];\n\n        var nextDispatchProps = computeDispatchProps(this.store, props);\n        if (_utilsShallowEqual2['default'](nextDispatchProps, this.dispatchProps)) {\n          return false;\n        }\n\n        this.dispatchProps = nextDispatchProps;\n        return true;\n      };\n\n      Connect.prototype.updateState = function updateState() {\n        var props = arguments.length <= 0 || arguments[0] === undefined ? this.props : arguments[0];\n\n        this.nextState = this.computeNextState(props);\n      };\n\n      Connect.prototype.isSubscribed = function isSubscribed() {\n        return typeof this.unsubscribe === 'function';\n      };\n\n      Connect.prototype.trySubscribe = function trySubscribe() {\n        if (shouldSubscribe && !this.unsubscribe) {\n          this.unsubscribe = this.store.subscribe(this.handleChange.bind(this));\n          this.handleChange();\n        }\n      };\n\n      Connect.prototype.tryUnsubscribe = function tryUnsubscribe() {\n        if (this.unsubscribe) {\n          this.unsubscribe();\n          this.unsubscribe = null;\n        }\n      };\n\n      Connect.prototype.componentDidMount = function componentDidMount() {\n        this.trySubscribe();\n      };\n\n      Connect.prototype.componentWillUnmount = function componentWillUnmount() {\n        this.tryUnsubscribe();\n      };\n\n      Connect.prototype.handleChange = function handleChange() {\n        if (!this.unsubscribe) {\n          return;\n        }\n\n        this.setState({\n          storeState: this.store.getState()\n        });\n      };\n\n      Connect.prototype.getWrappedInstance = function getWrappedInstance() {\n        _invariant2['default'](withRef, 'To access the wrapped instance, you need to specify ' + '{ withRef: true } as the fourth argument of the connect() call.');\n\n        return this.refs.wrappedInstance;\n      };\n\n      Connect.prototype.render = function render() {\n        var ref = withRef ? 'wrappedInstance' : null;\n        return _react2['default'].createElement(WrappedComponent, _extends({}, this.nextState, { ref: ref }));\n      };\n\n      return Connect;\n    })(_react.Component);\n\n    Connect.displayName = 'Connect(' + getDisplayName(WrappedComponent) + ')';\n    Connect.WrappedComponent = WrappedComponent;\n    Connect.contextTypes = {\n      store: _utilsStoreShape2['default']\n    };\n    Connect.propTypes = {\n      store: _utilsStoreShape2['default']\n    };\n\n    if (process.env.NODE_ENV !== 'production') {\n      Connect.prototype.componentWillUpdate = function componentWillUpdate() {\n        if (this.version === version) {\n          return;\n        }\n\n        // We are hot reloading!\n        this.version = version;\n\n        // Update the state and bindings.\n        this.trySubscribe();\n        this.updateStateProps();\n        this.updateDispatchProps();\n        this.updateState();\n      };\n    }\n\n    return _hoistNonReactStatics2['default'](Connect, WrappedComponent);\n  };\n}\n\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-redux/lib/components/connect.js\n ** module id = 176\n ** module chunks = 0\n **/","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = shallowEqual;\n\nfunction shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  var hasOwn = Object.prototype.hasOwnProperty;\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwn.call(objB, keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = exports[\"default\"];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-redux/lib/utils/shallowEqual.js\n ** module id = 177\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\nexports['default'] = wrapActionCreators;\n\nvar _redux = require('redux');\n\nfunction wrapActionCreators(actionCreators) {\n  return function (dispatch) {\n    return _redux.bindActionCreators(actionCreators, dispatch);\n  };\n}\n\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-redux/lib/utils/wrapActionCreators.js\n ** module id = 179\n ** module chunks = 0\n **/","/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n'use strict';\n\nvar REACT_STATICS = {\n    childContextTypes: true,\n    contextTypes: true,\n    defaultProps: true,\n    displayName: true,\n    getDefaultProps: true,\n    mixins: true,\n    propTypes: true,\n    type: true\n};\n\nvar KNOWN_STATICS = {\n    name: true,\n    length: true,\n    prototype: true,\n    caller: true,\n    arguments: true,\n    arity: true\n};\n\nmodule.exports = function hoistNonReactStatics(targetComponent, sourceComponent) {\n    var keys = Object.getOwnPropertyNames(sourceComponent);\n    for (var i=0; i<keys.length; ++i) {\n        if (!REACT_STATICS[keys[i]] && !KNOWN_STATICS[keys[i]]) {\n            targetComponent[keys[i]] = sourceComponent[keys[i]];\n        }\n    }\n\n    return targetComponent;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-redux/~/hoist-non-react-statics/index.js\n ** module id = 180\n ** module chunks = 0\n **/","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (__DEV__) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        'Invariant Violation: ' +\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-redux/~/invariant/invariant.js\n ** module id = 181\n ** module chunks = 0\n **/","import { combineReducers } from 'redux'\n\n// Action types\nimport { SET_DISPLAY, SET_PREVIEW, SET_POSITION, SET_PLAY_MODE, SET_SOURCE, SET_SOURCES, SET_STREAM, RECORD_VIDEO, UPLOAD_VIDEO, PLAY_VIDEO, SET_RANGE, SET_RENDER, START_RENDER } from './actions'\n\n// Action constants\nimport { playModes, renderModes, displayModes } from './actions'\n\n\n/*\n\tReducers\n*/ \nconst disp = displayModes.SPLASH\nconst pl   = playModes.PLAY\n\nconst display   = (state = disp,    action) => action.type !== SET_DISPLAY   ? state : action.display  \nconst preview   = (state = '',      action) => action.type !== SET_PREVIEW   ? state : action.preview  \nconst position  = (state = {pos:0}, action) => action.type !== SET_POSITION  ? state : action\nconst source    = (state = 0,       action) => action.type !== SET_SOURCE    ? state : action.source  \t\nconst sources   = (state = [],      action) => action.type !== SET_SOURCES   ? state : action.sources \t\nconst stream    = (state = '',      action) => action.type !== SET_STREAM    ? state : action.stream  \t\nconst recording = (state = false,   action) => action.type !== RECORD_VIDEO  ? state : action.recording\nconst play      = (state = pl,      action) => action.type !== SET_PLAY_MODE ? state : action.mode\n\n// function renderMode(state = renderModes.LIGHTER, action) {\n// \tif ( action.type !== SET_RENDER ) return state\n// \treturn action.mode\n// }\n\n// function renderRange(state = renderRange, action) {\n// \tif ( action.type !== SET_RANGE ) return state\n// \t// return action...\n// }\n\n\n/*\n\tCombine reducers\n*/ \n\nconst app = combineReducers({\n\tsource,\n\tsources,\n\tstream,\n\tpreview,\n\trecording,\n\tdisplay,\n\tposition,\n\tplay,\n\t// renderMode,\n\t// renderRange\n})\n\nexport default app\n\n\n/** WEBPACK FOOTER **\n ** ./app/reducers.js\n **/","/*\n\taction types\n*/\n\n// App display management\nexport const SET_DISPLAY   = 'SET_DISPLAY'\nexport const SET_PREVIEW   = 'SET_PREVIEW'\n\n// Capture and transport actions\nexport const SET_SOURCE   = 'SET_SOURCE'\nexport const SET_SOURCES  = 'SET_SOURCES'\nexport const SET_STREAM   = 'SET_STREAM'\n\nexport const RECORD_VIDEO = 'RECORD_VIDEO'\nexport const UPLOAD_VIDEO = 'UPLOAD_VIDEO'\nexport const PLAY_VIDEO   = 'PLAY_VIDEO'\n\nexport const SET_POSITION  = 'SET_POSITION'\nexport const SET_PLAY_MODE = 'SET_PLAY_MODE'\n\n// Render actions\nexport const SET_RANGE    = 'SET_RANGE'\nexport const SET_RENDER   = 'SET_RENDER'\nexport const START_RENDER = 'START_RENDER'\n\n/*\n\tAction constants...\n*/ \n\nexport const displayModes = {\n\tSPLASH:   'SPLASH',\n\tRECORD:   'RECORD',\n\tPLAYBACK: 'PLAYBACK',\n\tRENDER:   'RENDER'\n}\n\nexport const playModes = {\n  PLAY:  'PLAY',\n  PAUSE: 'PAUSE',\n  STOP:  'STOP'\n}\n\nexport const renderModes = {\n\tLIGHTER: 'LIGHTER'\n}\n\nexport const renderRange = {\n\tFROM: 0,\n\tTO: \t1\n}\n\nexport const positionSources = {\n\tMEDIA:false,\n\tSEEK: true\n}\n\n\n/*\n\taction creators\n*/\n\n// App display management\nexport const setDisplay = display => ({ type: SET_DISPLAY,  display })\nexport const setPreview = preview => ({ type: SET_PREVIEW,  preview })\n\n// Capture source management actions\nexport const setSource  = source  => ({ type: SET_SOURCE,  source  })\nexport const setSources = sources => ({ type: SET_SOURCES, sources })\nexport const setStream  = stream  => ({ type: SET_STREAM,  stream  })\n\n// Capture and transport action creators\nexport const recordVideo = recording => ({ type: RECORD_VIDEO, recording  })\nexport const uploadVideo = video \t\t => ({ type: UPLOAD_VIDEO, video \t\t })\nexport const playVideo   = mode  \t   => ({ type: PLAY_VIDEO,   mode  \t\t })\n\nexport const setPosition = (pos, src) => ({ type: SET_POSITION,  pos, src })\nexport const setPlayMode = (mode)     => ({ type: SET_PLAY_MODE, mode     })\n\n// Render action creators\nexport const setRenderRange = (mode, value) => ({ type: SET_RANGE,  mode, value })\nexport const setRenderMode  = (mode) \t\t\t\t=> ({ type: SET_RENDER, mode        })\nexport const render         = ()            => ({ type: START_RENDER            })\n\n\n/** WEBPACK FOOTER **\n ** ./app/actions.js\n **/","import React\t\t\t from 'react'\nimport ReactDOM \t from 'react-dom'\nimport { connect } from 'react-redux'\n\n// Actions\nimport { setSource, recordVideo, setPosition, setPlayMode } from '../actions'\n\n// Action constants\nimport { displayModes, positionSources, playModes } from '../actions'\n\n// Components\nimport Media from './Media'\nimport Dropdown  from './controls/Dropdown'\nimport Range     from './controls/Range'\n\n// Controllers\nimport mediaManager from '../controllers/media'\n\nclass App extends React.Component {\n\trecord(recording) {\n\t\t// Start/Stop recording in media manager\n\t\tmediaManager.record(!recording)\n\t\tthis.props.dispatch(recordVideo(!this.props.recording))\n\t}\n\n\trender() {\n\t\tlet top, bottom\n\t\tconst { dispatch, visibleTodos, visibilityFilter } = this.props\n\n\t\tswitch(this.props.display) {\n\t\t\tcase displayModes.SPLASH:\n\t\t\t\tbottom = (\n\t\t\t\t\t<div className='splash'>\n\t\t\t\t\t\t<div className='splash-inner'>\n\t\t\t\t\t\t\tLightPaint v1.0\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\n\t\t\t\tbreak;\n\n\t\t\tcase displayModes.RECORD:\n\t\t\t\ttop = (\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\toptions= { this.props.sources }\n\t\t\t\t\t\tselected={ this.props.source }\n\t\t\t\t\t\tonSelect={ i => dispatch(setSource(i)) }\n\t\t\t\t\t/>\n\t\t\t\t)\n\n\t\t\t\tbottom = (\n\t\t\t\t\t<div className='center full-width'>\n\t\t\t\t\t\t<div className='btn-group'>\n\t\t\t\t\t\t\t<button type='button' className={`btn btn-sm btn-${ this.props.recording ? 'danger' : 'secondary' }-outline`} onClick={ e => this.record(this.props.recording) }>Record</button>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-sm btn-secondary-outline' onClick={ e => mediaManager.upload() }>Upload</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\n\t\t\t\tbreak;\n\n\t\t\tcase displayModes.PLAYBACK:\n\t\t\t\ttop = (\n\t\t\t\t\t<div className='btn-group'>\n\t\t\t\t\t\t<button type='button' className='btn btn-sm btn-secondary-outline' onClick={ e => console.log('BACK') }>BACK</button>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\n\t\t\t\tbottom = (\n\t\t\t\t\t<div className='center full-width'>\n\t\t\t\t\t\t<Range className='control-range full-width' \n\t\t\t\t\t\t\t\t\t position={ this.props.position.pos }\n\t\t\t\t\t\t\t\t\t onChange={ position => dispatch(setPosition( position, true ) ) }\n\t\t\t\t\t\t\t\t\t onSeek={ seeking => dispatch(setPlayMode( seeking ? playModes.PAUSE : playModes.PLAY )) } />\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className='btn-group center'>\n\t\t\t\t\t\t\t<button type='button' className={`btn btn-sm btn-${ this.props.recording ? 'danger' : 'secondary' }-outline`} onClick={ e => mediaManager.render() }>RENDER</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\n\t\t\t\tbreak;\n\n\t\t\tcase displayModes.RENDER:\n\t\t\t\tbottom = (\n\t\t\t\t\t<div className='btn-group center'>\n\t\t\t\t\t\t<button type='button' className={`btn btn-sm btn-${ this.props.recording ? 'danger' : 'secondary' }-outline`} onClick={ e => this.record(this.props.recording) }>RECORD</button>\n\t\t\t\t\t\t<button type='button' className='btn btn-sm btn-secondary-outline' onClick={ e => mediaManager.upload() }>UPLOAD</button>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// Return template\n\t\treturn (\n\t\t\t<div className='app flicker scanlines'>\n\t\t\t\t<Media \n\t\t\t\t\tposition= { this.props.position } \n\t\t\t\t\tstream=   { this.props.stream }\n\t\t\t\t\tplay=     { this.props.play === playModes.PLAY }\n\t\t\t\t\tpreview=  { this.props.preview }\n\t\t\t\t\tplayback= { this.props.display === displayModes.PLAYBACK }\n\t\t\t\t\tonMount=  { video => mediaManager.setElement(video) }\n\t\t\t\t\tonUpdate= { pos => dispatch(setPosition(pos, positionSources.MEDIA)) }\n\t\t\t\t/>\n\n\t\t\t\t<div className='controls container-fluid'>\n\t\t\t\t\t<div className='source'>\n\t\t\t\t\t\t{ top }\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='transport'>\n\t\t\t\t\t\t{ bottom }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n// Should probably select from the state...\nfunction select(state) { return state }\n\nexport default connect(select)(App)\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/App.jsx\n **/","\"use strict\";\n\nvar _Object$getOwnPropertyDescriptor = require(\"babel-runtime/core-js/object/get-own-property-descriptor\")[\"default\"];\n\nexports[\"default\"] = function get(_x, _x2, _x3) {\n  var _again = true;\n\n  _function: while (_again) {\n    var object = _x,\n        property = _x2,\n        receiver = _x3;\n    desc = parent = getter = undefined;\n    _again = false;\n    if (object === null) object = Function.prototype;\n\n    var desc = _Object$getOwnPropertyDescriptor(object, property);\n\n    if (desc === undefined) {\n      var parent = Object.getPrototypeOf(object);\n\n      if (parent === null) {\n        return undefined;\n      } else {\n        _x = parent;\n        _x2 = property;\n        _x3 = receiver;\n        _again = true;\n        continue _function;\n      }\n    } else if (\"value\" in desc) {\n      return desc.value;\n    } else {\n      var getter = desc.get;\n\n      if (getter === undefined) {\n        return undefined;\n      }\n\n      return getter.call(receiver);\n    }\n  }\n};\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/get.js\n ** module id = 185\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/get-own-property-descriptor.js\n ** module id = 186\n ** module chunks = 0\n **/","var $ = require('../../modules/$');\nrequire('../../modules/es6.object.get-own-property-descriptor');\nmodule.exports = function getOwnPropertyDescriptor(it, key){\n  return $.getDesc(it, key);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/object/get-own-property-descriptor.js\n ** module id = 187\n ** module chunks = 0\n **/","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.js\n ** module id = 188\n ** module chunks = 0\n **/","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./$.to-iobject');\n\nrequire('./$.object-sap')('getOwnPropertyDescriptor', function($getOwnPropertyDescriptor){\n  return function getOwnPropertyDescriptor(it, key){\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/es6.object.get-own-property-descriptor.js\n ** module id = 189\n ** module chunks = 0\n **/","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./$.iobject')\n  , defined = require('./$.defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.to-iobject.js\n ** module id = 190\n ** module chunks = 0\n **/","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.iobject.js\n ** module id = 191\n ** module chunks = 0\n **/","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.cof.js\n ** module id = 192\n ** module chunks = 0\n **/","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.defined.js\n ** module id = 193\n ** module chunks = 0\n **/","// most Object methods by ES6 should accept primitives\nmodule.exports = function(KEY, exec){\n  var $def = require('./$.def')\n    , fn   = (require('./$.core').Object || {})[KEY] || Object[KEY]\n    , exp  = {};\n  exp[KEY] = exec(fn);\n  $def($def.S + $def.F * require('./$.fails')(function(){ fn(1); }), 'Object', exp);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.object-sap.js\n ** module id = 194\n ** module chunks = 0\n **/","var global    = require('./$.global')\n  , core      = require('./$.core')\n  , PROTOTYPE = 'prototype';\nvar ctx = function(fn, that){\n  return function(){\n    return fn.apply(that, arguments);\n  };\n};\nvar $def = function(type, name, source){\n  var key, own, out, exp\n    , isGlobal = type & $def.G\n    , isProto  = type & $def.P\n    , target   = isGlobal ? global : type & $def.S\n        ? global[name] : (global[name] || {})[PROTOTYPE]\n    , exports  = isGlobal ? core : core[name] || (core[name] = {});\n  if(isGlobal)source = name;\n  for(key in source){\n    // contains in native\n    own = !(type & $def.F) && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    if(isGlobal && typeof target[key] != 'function')exp = source[key];\n    // bind timers to global for call from export context\n    else if(type & $def.B && own)exp = ctx(out, global);\n    // wrap global constructors for prevent change them in library\n    else if(type & $def.W && target[key] == out)!function(C){\n      exp = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      exp[PROTOTYPE] = C[PROTOTYPE];\n    }(out);\n    else exp = isProto && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export\n    exports[key] = exp;\n    if(isProto)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n// type bitmap\n$def.F = 1;  // forced\n$def.G = 2;  // global\n$def.S = 4;  // static\n$def.P = 8;  // proto\n$def.B = 16; // bind\n$def.W = 32; // wrap\nmodule.exports = $def;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.def.js\n ** module id = 195\n ** module chunks = 0\n **/","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.global.js\n ** module id = 196\n ** module chunks = 0\n **/","var core = module.exports = {version: '1.2.3'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.core.js\n ** module id = 197\n ** module chunks = 0\n **/","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.fails.js\n ** module id = 198\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _Object$create = require(\"babel-runtime/core-js/object/create\")[\"default\"];\n\nvar _Object$setPrototypeOf = require(\"babel-runtime/core-js/object/set-prototype-of\")[\"default\"];\n\nexports[\"default\"] = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/inherits.js\n ** module id = 199\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/create.js\n ** module id = 200\n ** module chunks = 0\n **/","var $ = require('../../modules/$');\nmodule.exports = function create(P, D){\n  return $.create(P, D);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/object/create.js\n ** module id = 201\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/set-prototype-of.js\n ** module id = 202\n ** module chunks = 0\n **/","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.setPrototypeOf;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/object/set-prototype-of.js\n ** module id = 203\n ** module chunks = 0\n **/","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $def = require('./$.def');\n$def($def.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/es6.object.set-prototype-of.js\n ** module id = 204\n ** module chunks = 0\n **/","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar getDesc  = require('./$').getDesc\n  , isObject = require('./$.is-object')\n  , anObject = require('./$.an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.set-proto.js\n ** module id = 205\n ** module chunks = 0\n **/","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.is-object.js\n ** module id = 206\n ** module chunks = 0\n **/","var isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.an-object.js\n ** module id = 207\n ** module chunks = 0\n **/","// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.ctx.js\n ** module id = 208\n ** module chunks = 0\n **/","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.a-function.js\n ** module id = 209\n ** module chunks = 0\n **/","\"use strict\";\n\nvar _Object$defineProperty = require(\"babel-runtime/core-js/object/define-property\")[\"default\"];\n\nexports[\"default\"] = (function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n\n      _Object$defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n})();\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/create-class.js\n ** module id = 210\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/define-property.js\n ** module id = 211\n ** module chunks = 0\n **/","var $ = require('../../modules/$');\nmodule.exports = function defineProperty(it, key, desc){\n  return $.setDesc(it, key, desc);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/object/define-property.js\n ** module id = 212\n ** module chunks = 0\n **/","\"use strict\";\n\nexports[\"default\"] = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/class-call-check.js\n ** module id = 213\n ** module chunks = 0\n **/","import React\t\tfrom 'react'\nimport ReactDOM from 'react-dom'\n\nexport default class Media extends React.Component {\n\tshouldComponentUpdate(nextProps) {\n\t\t// Update video source\n\t\tif (this.props.stream !== nextProps.stream) this.vid.src = nextProps.stream\n\t\t\n\t\t// Update capture preview\n\t\tif(this.props.preview !== nextProps.preview) this.preview.src = nextProps.preview\n\n\t\t// Update current video position\n\t\tif (this.props.position.src) this.vid.currentTime = ( (this.props.position.pos / 1000) * this.vid.duration )\n\n\t\tif (this.props.play !== nextProps.play) nextProps.play ? this.vid.play() : this.vid.pause()\n\n\t\t// Update render\n\t\t// TODO!\n\n\t\treturn false\n\t}\n\n\tcomponentDidMount() {\n\t\tconst elm = ReactDOM.findDOMNode(this)\n\n\t\t// Get elements\n\t\tthis.vid \t\t = elm.getElementsByTagName('video')[0]\n\t\tthis.preview = elm.getElementsByTagName('img')[0]\n\t\tthis.render  = elm.getElementsByTagName('img')[1]\n\n\t\t// Assign the video element to the media manager\n\t\t// Ugly, I know...\n\t\tthis.props.onMount(this.vid)\n\n\t\t// Handle time update events (the video is moving)\n\t\tthis.vid.ontimeupdate = e => this.timeUpdate(e)\n\t}\n\n\ttimeUpdate(e){\n\t\tif (this.props.playback && this.props.play) this.props.onUpdate( (1000.0 / this.vid.duration) * this.vid.currentTime )\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"media-preview\">\n\t\t\t\t<video className=\"media-preview-video\" autoPlay loop/>\n\t\t\t\t<img \t className=\"media-preview-capture\"/>\n\t\t\t\t<img \t className=\"media-preview-image\"/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/Media.jsx\n **/","import React\t\tfrom 'react'\nimport ReactDOM from 'react-dom'\n\nexport default class List extends React.Component {\n\tconstructor() {\n\t\tsuper()\n\n\t\tthis.state = {\n\t\t\topen: false\n\t\t}\n\t}\n\n\topen(e) {\n\t\tthis.setState({open: !this.state.open})\n\t}\n\n\tselect(i) {\n\t\tsetTimeout( ( ) => this.props.onSelect(i, this.props.options[i]) )\n\t}\n\n\trender() {\n\t\tconst options = this.props.options.map(\n\t\t\t(option, i) => {\n\t\t\t\treturn(\n\t\t\t\t\t<a \n\t\t\t\t\t\tkey={ i } \n\t\t\t\t\t\tclassName={`dropdown-item ${ this.props.selected === i ? 'active' : '' }`} \n\t\t\t\t\t\tonClick={e => this.select(i)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ option }\n\t\t\t\t\t</a>\n\t\t\t\t)\n\t\t\t}\n\t\t)\n\n\t\treturn (\n\t\t\t<div className={`dropdown ${ this.state.open ? 'open' : '' }`} onClick={ e=>this.open(e) }>\n\t\t\t\t\n\t\t\t\t<button className='btn btn-sm btn-secondary-outline dropdown-toggle'>\n\t\t\t\t\t{ this.props.options[this.props.selected] }\n\t\t\t\t</button>\n\n\t\t\t\t<div className='dropdown-menu'>\n\t\t\t\t\t{ options }\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/controls/Dropdown.jsx\n **/","import 'styles/range.scss'\n\nimport React\t\tfrom 'react'\nimport ReactDOM from 'react-dom'\n\nexport default class Range extends React.Component {\n\tconstructor() {\n\t\tsuper()\n\n\t\tthis.state = {\n\t\t\tclick: false\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps) {\n\t\tif (!this.state.click) this.elm.value = nextProps.position\n\t\treturn false\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.elm = ReactDOM.findDOMNode(this).getElementsByTagName('input')[0]\n\t}\n\n\tseek(e) {\n\t\tconst p = parseFloat(e.target.value)\n\n\t\tif(isNaN(p)) return\n\n\t\tthis.props.onChange(e.target.value)\n\t}\n\n\tclick(isDown){\n\t\tthis.setState({click: isDown})\n\t\tthis.props.onSeek(isDown)\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='control-range'>\n\t\t\t\t<input type='range' min={0.0} max={1000.0} step={0.1}\n\t\t\t\t\t\t\t defaultValue={this.props.position}\n\t\t\t\t\t\t\t onChange={ e => this.seek(e) }\n\t\t\t\t\t\t\t onMouseDown={ e => this.click(true) }\n\t\t\t\t\t\t\t onMouseUp={ e => this.click(false) } \n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/controls/Range.jsx\n **/","import { GIF } from 'gif.js/dist/gif'\nimport Emitter from 'eventemitter3'\nimport capture from './capture'\n\n// Shim getUserMedia\nnavigator.getUserMedia  = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia\nwindow.URL = (URL || webkitURL)\n\n// Create upload input\nconst input = document.createElement('input')\ninput.type = 'file'\ninput.accept = 'video/*'\n\nconst FRAME_RATE = 25,\n\t\t\tQUALITY    = 0.01\n\nclass MediaManager extends Emitter {\n\tconstructor() {\n\t\tsuper()\n\n\t\t// Create a canvas context\n\t\tthis.ctx  = document.createElement('CANVAS').getContext('2d')\n\t\tthis.rctx = document.createElement('CANVAS').getContext('2d')\n\n\t\t// Video capture settings\n\t\tthis.constraints = {\n\t\t\taudio: false,\n\t\t\tvideo: {\n\t\t\t\toptional: [\n\t\t\t\t\t{sourceId: null},\n\t\t\t\t\t{minWidth: 320},\n\t\t\t\t\t{minWidth: 640},\n\t\t\t\t\t{minWidth: 1024},\n\t\t\t\t\t{minWidth: 1280},\n\t\t\t\t\t{minWidth: 1920},\n\t\t\t\t\t{minWidth: 2560},\n\t\t\t\t\t{minWidth: 9999}\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\n\t\t// Get available video sources\n\t\tthis.sources = []\n\n\t\t// Captured frames\n\t\tthis.frames = null\n\t}\n\n\t// Get available video sources\n\tgetSources() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t// Request all media streaming sources\n\t\t\tMediaStreamTrack.getSources(sources => {\n\n\t\t\t\t// Filter video source only\n\t\t\t\tthis.sources = sources.filter((source) => source.kind === 'video')\n\n\t\t\t\t// Map labels for display\n\t\t\t\tthis.sourcesMap = this.sources.map(source => source.label)\n\n\t\t\t\t// Trigger `sources` event to update source list outside\n\t\t\t\tthis.emit('sources', this.sourcesMap)\n\n\t\t\t\t// Resolve the promise with a list of video sources\n\t\t\t\tresolve(this.sources)\n\t\t\t})\n\t\t})\n\t}\n\n\tsetElement(video) {\n\t\tthis.video = video\n\t}\n\n\tgetSource() {\n\n\t}\n\n\t// Get available video stream\n\tgetStream() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (this.stream) {\n\t\t\t\tthis.emit('stream', URL.createObjectURL(this.stream), true)\n\t\t\t\treturn resolve(URL.createObjectURL(this.stream))\n\t\t\t}\n\n\t\t\tthis.getSources()\n\t\t\t\t\t.then(sources => {\n\t\t\t\t\t\t// TEMP: needs to match source selection, not first available\n\t\t\t\t\t\tthis.constraints.video.optional[0].sourceId = this.sources[0]\n\n\t\t\t\t\t\tnavigator.getUserMedia(this.constraints,\n\t\t\t\t\t\t\tstream => {\n\t\t\t\t\t\t\t\tthis.stream = stream\n\t\t\t\t\t\t\t\tthis.streamUrl = URL.createObjectURL(this.stream)\n\n\t\t\t\t\t\t\t\t// Resolve promise\n\t\t\t\t\t\t\t\tresolve( this.streamUrl )\n\n\t\t\t\t\t\t\t\t// Emit a new streaming event with new source URL\n\t\t\t\t\t\t\t\tthis.emit('stream', this.streamUrl, true)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror => reject( 'bummer...' )\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t\t.catch( e => reject(e) )\n\t\t})\n\t}\n\n\tsetSource() {\n\n\t}\n\n\trecord(rec) {\n\t\t// `rec` is a boolean for start/stop\n\n\t\tif (rec) {\n\t\t\t// Clear the frame capture\n\t\t\tthis.frames = []\n\n\t\t\t// Update canvas dimensions\n\t\t\tthis.ctx.canvas.width   = this.video.videoWidth\n\t\t\tthis.rctx.canvas.width  = this.video.videoWidth\n\t\t\tthis.ctx.canvas.height  = this.video.videoHeight\n\t\t\tthis.rctx.canvas.height = this.video.videoHeight\n\n\t\t\tthis.interval = setInterval((ts) => {\n\t\t\t\t// Draw video to canvas\n\t\t\t\tthis.ctx.drawImage(this.video, 0, 0, this.video.videoWidth, this.video.videoHeight, 0, 0, this.ctx.canvas.width, this.ctx.canvas.height)\n\n\t\t\t\t// Capture a frame\n\t\t\t\tthis.frames.push( this.ctx.getImageData(0, 0, this.video.videoWidth, this.video.videoHeight) )\n\t\t\t}, FRAME_RATE)\n\n\t\t} else {\n\t\t\t// Stop adding frames\n\t\t\tclearInterval(this.interval)\n\n\t\t\t// Render from image sequence and emit a new stream\n\t\t\tcapture(this.frames, this.ctx, FRAME_RATE, (done, data) => {\n\t\t\t\tdone ? this.emit('stream', URL.createObjectURL(data) ) : this.emit('progress', data)\n\t\t\t})\n\t\t}\n\t}\n\n\tupload() {\n\t\tinput.onchange = value => this.handleUpload(input.files[0])\n\t\tinput.click()\n\t}\n\n\thandleUpload(file) {\n\t\tthis.frames = undefined\n\t\tthis.file = file\n\t\tconsole.log(file)\n\t\tthis.emit('stream', file.path)\n\t}\n\n\trender() {\n\t\t// Update canvas dimensions\n\t\tthis.ctx.canvas.width   = this.video.videoWidth\n\t\tthis.rctx.canvas.width  = this.video.videoWidth\n\t\tthis.ctx.canvas.height  = this.video.videoHeight\n\t\tthis.rctx.canvas.height = this.video.videoHeight\n\n\t\t// Prep canvas for a clean render\n\t\tthis.rctx.clearRect(0, 0, this.rctx.canvas.width, this.rctx.canvas.height)\n\t\tthis.rctx.rect(0, 0, this.rctx.canvas.width, this.rctx.canvas.height)\n\t\tthis.rctx.fillStyle='black'\n\t\tthis.rctx.fill()\n\t\tthis.ctx.globalCompositeOperation = 'lighten'\n\n\t\t// Render frame capture\n\t\tif (this.frames && frames.length) {\n\t\t\tthis.frames.forEach( (frame, i) => {\n\t\t\t\tconsole.log(i, this.frames.length)\n\t\t\t\tthis.renderFrame(frame)\n\t\t\t})\n\t\t} \n\t\t\n\t\t// Render video stream\n\t\telse {\n\t\t\tthis.video.pause()\n\t\t\tthis.video.playbackRate = 0.5\n\t\t\tthis.video.currentTime = 0\n\t\t\tthis.video.loop = false\n\n\t\t\tlet fn = () => {\n\t\t\t\tif (this.video.paused || this.video.ended) return this.finishRender()\n\t\t\t\tthis.ctx.drawImage(this.video, 0, 0, this.video.videoWidth, this.video.videoHeight)\n\t\t\t\tthis.renderFrame( this.ctx.getImageData(0, 0, this.video.videoWidth, this.video.videoHeight) )\n\t\t\t\trequestAnimationFrame(fn)\n\t\t\t}\n\n\t\t\t// Assign onPlay handler\n\t\t\tthis.video.onplay = fn\n\n\t\t\t// Start capturing\n\t\t\tthis.video.play()\n\t\t}\n\t}\n\n\trenderFrame(frame) {\n\t\tthis.rctx.putImageData(frame, 0, 0, 0, 0, this.video.videoWidth, this.video.videoHeight)\n\t}\n\n\tfinishRender() {\n\t\t// Unassign onplay handler\n\t\tthis.ctx.globalCompositeOperation = 'source-over'\n\t\tthis.video.onplay = undefined\n\t\tthis.video.loop = true\n\t\tthis.video.playbackRate = 1\n\t\tthis.emit('preview', this.rctx.canvas.toDataURL())\n\t}\n}\n\n// Export a singleton instance of the media manager\nexport default new MediaManager\n\n\n/** WEBPACK FOOTER **\n ** ./app/controllers/media.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/promise.js\n ** module id = 220\n ** module chunks = 0\n **/","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/$.core').Promise;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/promise.js\n ** module id = 221\n ** module chunks = 0\n **/","'use strict';\nvar $at  = require('./$.string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./$.iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/es6.string.iterator.js\n ** module id = 223\n ** module chunks = 0\n **/","// true  -> String#at\n// false -> String#codePointAt\nvar toInteger = require('./$.to-integer')\n  , defined   = require('./$.defined');\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l\n      || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n        ? TO_STRING ? s.charAt(i) : a\n        : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.string-at.js\n ** module id = 224\n ** module chunks = 0\n **/","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.to-integer.js\n ** module id = 225\n ** module chunks = 0\n **/","'use strict';\nvar LIBRARY         = require('./$.library')\n  , $def            = require('./$.def')\n  , $redef          = require('./$.redef')\n  , hide            = require('./$.hide')\n  , has             = require('./$.has')\n  , SYMBOL_ITERATOR = require('./$.wks')('iterator')\n  , Iterators       = require('./$.iterators')\n  , BUGGY           = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR     = '@@iterator'\n  , KEYS            = 'keys'\n  , VALUES          = 'values';\nvar returnThis = function(){ return this; };\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCE){\n  require('./$.iter-create')(Constructor, NAME, next);\n  var createMethod = function(kind){\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG      = NAME + ' Iterator'\n    , proto    = Base.prototype\n    , _native  = proto[SYMBOL_ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , _default = _native || createMethod(DEFAULT)\n    , methods, key;\n  // Fix native\n  if(_native){\n    var IteratorPrototype = require('./$').getProto(_default.call(new Base));\n    // Set @@toStringTag to native iterators\n    require('./$.tag')(IteratorPrototype, TAG, true);\n    // FF fix\n    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, SYMBOL_ITERATOR, returnThis);\n  }\n  // Define iterator\n  if(!LIBRARY || FORCE)hide(proto, SYMBOL_ITERATOR, _default);\n  // Plug for library\n  Iterators[NAME] = _default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEFAULT == VALUES ? _default : createMethod(VALUES),\n      keys:    IS_SET            ? _default : createMethod(KEYS),\n      entries: DEFAULT != VALUES ? _default : createMethod('entries')\n    };\n    if(FORCE)for(key in methods){\n      if(!(key in proto))$redef(proto, key, methods[key]);\n    } else $def($def.P + $def.F * BUGGY, NAME, methods);\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.iter-define.js\n ** module id = 226\n ** module chunks = 0\n **/","module.exports = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.library.js\n ** module id = 227\n ** module chunks = 0\n **/","module.exports = require('./$.hide');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.redef.js\n ** module id = 228\n ** module chunks = 0\n **/","var $          = require('./$')\n  , createDesc = require('./$.property-desc');\nmodule.exports = require('./$.support-desc') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.hide.js\n ** module id = 229\n ** module chunks = 0\n **/","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.property-desc.js\n ** module id = 230\n ** module chunks = 0\n **/","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./$.fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.support-desc.js\n ** module id = 231\n ** module chunks = 0\n **/","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.has.js\n ** module id = 232\n ** module chunks = 0\n **/","var store  = require('./$.shared')('wks')\n  , Symbol = require('./$.global').Symbol;\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    Symbol && Symbol[name] || (Symbol || require('./$.uid'))('Symbol.' + name));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.wks.js\n ** module id = 233\n ** module chunks = 0\n **/","var global = require('./$.global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.shared.js\n ** module id = 234\n ** module chunks = 0\n **/","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.uid.js\n ** module id = 235\n ** module chunks = 0\n **/","module.exports = {};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.iterators.js\n ** module id = 236\n ** module chunks = 0\n **/","'use strict';\nvar $ = require('./$')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./$.hide')(IteratorPrototype, require('./$.wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = $.create(IteratorPrototype, {next: require('./$.property-desc')(1,next)});\n  require('./$.tag')(Constructor, NAME + ' Iterator');\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.iter-create.js\n ** module id = 237\n ** module chunks = 0\n **/","var def = require('./$').setDesc\n  , has = require('./$.has')\n  , TAG = require('./$.wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.tag.js\n ** module id = 238\n ** module chunks = 0\n **/","require('./es6.array.iterator');\nvar Iterators = require('./$.iterators');\nIterators.NodeList = Iterators.HTMLCollection = Iterators.Array;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/web.dom.iterable.js\n ** module id = 239\n ** module chunks = 0\n **/","'use strict';\nvar setUnscope = require('./$.unscope')\n  , step       = require('./$.iter-step')\n  , Iterators  = require('./$.iterators')\n  , toIObject  = require('./$.to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nrequire('./$.iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\nsetUnscope('keys');\nsetUnscope('values');\nsetUnscope('entries');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/es6.array.iterator.js\n ** module id = 240\n ** module chunks = 0\n **/","module.exports = function(){ /* empty */ };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.unscope.js\n ** module id = 241\n ** module chunks = 0\n **/","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.iter-step.js\n ** module id = 242\n ** module chunks = 0\n **/","'use strict';\nvar $          = require('./$')\n  , LIBRARY    = require('./$.library')\n  , global     = require('./$.global')\n  , ctx        = require('./$.ctx')\n  , classof    = require('./$.classof')\n  , $def       = require('./$.def')\n  , isObject   = require('./$.is-object')\n  , anObject   = require('./$.an-object')\n  , aFunction  = require('./$.a-function')\n  , strictNew  = require('./$.strict-new')\n  , forOf      = require('./$.for-of')\n  , setProto   = require('./$.set-proto').set\n  , same       = require('./$.same')\n  , species    = require('./$.species')\n  , SPECIES    = require('./$.wks')('species')\n  , speciesConstructor = require('./$.species-constructor')\n  , RECORD     = require('./$.uid')('record')\n  , asap       = require('./$.microtask')\n  , PROMISE    = 'Promise'\n  , process    = global.process\n  , isNode     = classof(process) == 'process'\n  , P          = global[PROMISE]\n  , Wrapper;\n\nvar testResolve = function(sub){\n  var test = new P(function(){});\n  if(sub)test.constructor = Object;\n  return P.resolve(test) === test;\n};\n\nvar useNative = function(){\n  var works = false;\n  function P2(x){\n    var self = new P(x);\n    setProto(self, P2.prototype);\n    return self;\n  }\n  try {\n    works = P && P.resolve && testResolve();\n    setProto(P2, P);\n    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});\n    // actual Firefox has broken subclass support, test that\n    if(!(P2.resolve(5).then(function(){}) instanceof P2)){\n      works = false;\n    }\n    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162\n    if(works && require('./$.support-desc')){\n      var thenableThenGotten = false;\n      P.resolve($.setDesc({}, 'then', {\n        get: function(){ thenableThenGotten = true; }\n      }));\n      works = thenableThenGotten;\n    }\n  } catch(e){ works = false; }\n  return works;\n}();\n\n// helpers\nvar isPromise = function(it){\n  return isObject(it) && (useNative ? classof(it) == 'Promise' : RECORD in it);\n};\nvar sameConstructor = function(a, b){\n  // library wrapper special case\n  if(LIBRARY && a === P && b === Wrapper)return true;\n  return same(a, b);\n};\nvar getConstructor = function(C){\n  var S = anObject(C)[SPECIES];\n  return S != undefined ? S : C;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function(record, isReject){\n  if(record.n)return;\n  record.n = true;\n  var chain = record.c;\n  asap(function(){\n    var value = record.v\n      , ok    = record.s == 1\n      , i     = 0;\n    var run = function(react){\n      var cb = ok ? react.ok : react.fail\n        , ret, then;\n      try {\n        if(cb){\n          if(!ok)record.h = true;\n          ret = cb === true ? value : cb(value);\n          if(ret === react.P){\n            react.rej(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(ret)){\n            then.call(ret, react.res, react.rej);\n          } else react.res(ret);\n        } else react.rej(value);\n      } catch(err){\n        react.rej(err);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    chain.length = 0;\n    record.n = false;\n    if(isReject)setTimeout(function(){\n      var promise = record.p\n        , handler, console;\n      if(isUnhandled(promise)){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      } record.a = undefined;\n    }, 1);\n  });\n};\nvar isUnhandled = function(promise){\n  var record = promise[RECORD]\n    , chain  = record.a || record.c\n    , i      = 0\n    , react;\n  if(record.h)return false;\n  while(chain.length > i){\n    react = chain[i++];\n    if(react.fail || !isUnhandled(react.P))return false;\n  } return true;\n};\nvar $reject = function(value){\n  var record = this;\n  if(record.d)return;\n  record.d = true;\n  record = record.r || record; // unwrap\n  record.v = value;\n  record.s = 2;\n  record.a = record.c.slice();\n  notify(record, true);\n};\nvar $resolve = function(value){\n  var record = this\n    , then;\n  if(record.d)return;\n  record.d = true;\n  record = record.r || record; // unwrap\n  try {\n    if(then = isThenable(value)){\n      asap(function(){\n        var wrapper = {r: record, d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      record.v = value;\n      record.s = 1;\n      notify(record, false);\n    }\n  } catch(e){\n    $reject.call({r: record, d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!useNative){\n  // 25.4.3.1 Promise(executor)\n  P = function Promise(executor){\n    aFunction(executor);\n    var record = {\n      p: strictNew(this, P, PROMISE),         // <- promise\n      c: [],                                  // <- awaiting reactions\n      a: undefined,                           // <- checked in isUnhandled reactions\n      s: 0,                                   // <- state\n      d: false,                               // <- done\n      v: undefined,                           // <- value\n      h: false,                               // <- handled rejection\n      n: false                                // <- notify\n    };\n    this[RECORD] = record;\n    try {\n      executor(ctx($resolve, record, 1), ctx($reject, record, 1));\n    } catch(err){\n      $reject.call(record, err);\n    }\n  };\n  require('./$.mix')(P.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var react = {\n        ok:   typeof onFulfilled == 'function' ? onFulfilled : true,\n        fail: typeof onRejected == 'function'  ? onRejected  : false\n      };\n      var promise = react.P = new (speciesConstructor(this, P))(function(res, rej){\n        react.res = res;\n        react.rej = rej;\n      });\n      aFunction(react.res);\n      aFunction(react.rej);\n      var record = this[RECORD];\n      record.c.push(react);\n      if(record.a)record.a.push(react);\n      if(record.s)notify(record, false);\n      return promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n}\n\n// export\n$def($def.G + $def.W + $def.F * !useNative, {Promise: P});\nrequire('./$.tag')(P, PROMISE);\nspecies(P);\nspecies(Wrapper = require('./$.core')[PROMISE]);\n\n// statics\n$def($def.S + $def.F * !useNative, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    return new this(function(res, rej){ rej(r); });\n  }\n});\n$def($def.S + $def.F * (!useNative || testResolve(true)), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    return isPromise(x) && sameConstructor(x.constructor, this)\n      ? x : new this(function(res){ res(x); });\n  }\n});\n$def($def.S + $def.F * !(useNative && require('./$.iter-detect')(function(iter){\n  P.all(iter)['catch'](function(){});\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C      = getConstructor(this)\n      , values = [];\n    return new C(function(res, rej){\n      forOf(iterable, false, values.push, values);\n      var remaining = values.length\n        , results   = Array(remaining);\n      if(remaining)$.each.call(values, function(promise, index){\n        C.resolve(promise).then(function(value){\n          results[index] = value;\n          --remaining || res(results);\n        }, rej);\n      });\n      else res(results);\n    });\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C = getConstructor(this);\n    return new C(function(res, rej){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(res, rej);\n      });\n    });\n  }\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/es6.promise.js\n ** module id = 243\n ** module chunks = 0\n **/","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./$.cof')\n  , TAG = require('./$.wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.classof.js\n ** module id = 244\n ** module chunks = 0\n **/","module.exports = function(it, Constructor, name){\n  if(!(it instanceof Constructor))throw TypeError(name + \": use the 'new' operator!\");\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.strict-new.js\n ** module id = 245\n ** module chunks = 0\n **/","var ctx         = require('./$.ctx')\n  , call        = require('./$.iter-call')\n  , isArrayIter = require('./$.is-array-iter')\n  , anObject    = require('./$.an-object')\n  , toLength    = require('./$.to-length')\n  , getIterFn   = require('./core.get-iterator-method');\nmodule.exports = function(iterable, entries, fn, that){\n  var iterFn = getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    call(iterator, f, step.value, entries);\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.for-of.js\n ** module id = 246\n ** module chunks = 0\n **/","// call something on iterator step with safe closing on error\nvar anObject = require('./$.an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.iter-call.js\n ** module id = 247\n ** module chunks = 0\n **/","// check on default Array iterator\nvar Iterators = require('./$.iterators')\n  , ITERATOR  = require('./$.wks')('iterator');\nmodule.exports = function(it){\n  return (Iterators.Array || Array.prototype[ITERATOR]) === it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.is-array-iter.js\n ** module id = 248\n ** module chunks = 0\n **/","// 7.1.15 ToLength\nvar toInteger = require('./$.to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.to-length.js\n ** module id = 249\n ** module chunks = 0\n **/","var classof   = require('./$.classof')\n  , ITERATOR  = require('./$.wks')('iterator')\n  , Iterators = require('./$.iterators');\nmodule.exports = require('./$.core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/core.get-iterator-method.js\n ** module id = 250\n ** module chunks = 0\n **/","module.exports = Object.is || function is(x, y){\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.same.js\n ** module id = 251\n ** module chunks = 0\n **/","'use strict';\nvar $       = require('./$')\n  , SPECIES = require('./$.wks')('species');\nmodule.exports = function(C){\n  if(require('./$.support-desc') && !(SPECIES in C))$.setDesc(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.species.js\n ** module id = 252\n ** module chunks = 0\n **/","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\r\nvar anObject  = require('./$.an-object')\r\n  , aFunction = require('./$.a-function')\r\n  , SPECIES   = require('./$.wks')('species');\r\nmodule.exports = function(O, D){\r\n  var C = anObject(O).constructor, S;\r\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.species-constructor.js\n ** module id = 253\n ** module chunks = 0\n **/","var global    = require('./$.global')\n  , macrotask = require('./$.task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , isNode    = require('./$.cof')(process) == 'process'\n  , head, last, notify;\n\nvar flush = function(){\n  var parent, domain;\n  if(isNode && (parent = process.domain)){\n    process.domain = null;\n    parent.exit();\n  }\n  while(head){\n    domain = head.domain;\n    if(domain)domain.enter();\n    head.fn.call(); // <- currently we use it only for Promise - try / catch not required\n    if(domain)domain.exit();\n    head = head.next;\n  } last = undefined;\n  if(parent)parent.enter();\n};\n\n// Node.js\nif(isNode){\n  notify = function(){\n    process.nextTick(flush);\n  };\n// browsers with MutationObserver\n} else if(Observer){\n  var toggle = 1\n    , node   = document.createTextNode('');\n  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n  notify = function(){\n    node.data = toggle = -toggle;\n  };\n// for other environments - macrotask based on:\n// - setImmediate\n// - MessageChannel\n// - window.postMessag\n// - onreadystatechange\n// - setTimeout\n} else {\n  notify = function(){\n    // strange IE + webpack dev server bug - use .call(global)\n    macrotask.call(global, flush);\n  };\n}\n\nmodule.exports = function asap(fn){\n  var task = {fn: fn, next: undefined, domain: isNode && process.domain};\n  if(last)last.next = task;\n  if(!head){\n    head = task;\n    notify();\n  } last = task;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.microtask.js\n ** module id = 254\n ** module chunks = 0\n **/","'use strict';\nvar ctx                = require('./$.ctx')\n  , invoke             = require('./$.invoke')\n  , html               = require('./$.html')\n  , cel                = require('./$.dom-create')\n  , global             = require('./$.global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listner = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./$.cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listner;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listner, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.task.js\n ** module id = 255\n ** module chunks = 0\n **/","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.invoke.js\n ** module id = 256\n ** module chunks = 0\n **/","module.exports = require('./$.global').document && document.documentElement;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.html.js\n ** module id = 257\n ** module chunks = 0\n **/","var isObject = require('./$.is-object')\n  , document = require('./$.global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.dom-create.js\n ** module id = 258\n ** module chunks = 0\n **/","var $redef = require('./$.redef');\nmodule.exports = function(target, src){\n  for(var key in src)$redef(target, key, src[key]);\n  return target;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.mix.js\n ** module id = 259\n ** module chunks = 0\n **/","var SYMBOL_ITERATOR = require('./$.wks')('iterator')\n  , SAFE_CLOSING    = false;\ntry {\n  var riter = [7][SYMBOL_ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[SYMBOL_ITERATOR]();\n    iter.next = function(){ safe = true; };\n    arr[SYMBOL_ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.iter-detect.js\n ** module id = 260\n ** module chunks = 0\n **/","(function(c){function a(b,d){if({}.hasOwnProperty.call(a.cache,b))return a.cache[b];var e=a.resolve(b);if(!e)throw new Error('Failed to resolve module '+b);var c={id:b,require:a,filename:b,exports:{},loaded:!1,parent:d,children:[]};d&&d.children.push(c);var f=b.slice(0,b.lastIndexOf('/')+1);return a.cache[b]=c.exports,e.call(c.exports,c,c.exports,f,b),c.loaded=!0,a.cache[b]=c.exports}a.modules={},a.cache={},a.resolve=function(b){return{}.hasOwnProperty.call(a.modules,b)?a.modules[b]:void 0},a.define=function(b,c){a.modules[b]=c};var b=function(a){return a='/',{title:'browser',version:'v0.10.26',browser:!0,env:{},argv:[],nextTick:c.setImmediate||function(a){setTimeout(a,0)},cwd:function(){return a},chdir:function(b){a=b}}}();a.define('/gif.coffee',function(d,m,l,k){function g(a,b){return{}.hasOwnProperty.call(a,b)}function j(d,b){for(var a=0,c=b.length;a<c;++a)if(a in b&&b[a]===d)return!0;return!1}function i(a,b){function d(){this.constructor=a}for(var c in b)g(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a}var h,c,f,b,e;f=a('events',d).EventEmitter,h=a('/browser.coffee',d),e=function(d){function a(d){var a,b;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(d);for(a in c)b=c[a],null!=this.options[a]?this.options[a]:this.options[a]=b}return i(a,d),c={workerScript:'gif.worker.js',workers:2,repeat:0,background:'#fff',quality:10,width:null,height:null,transparent:null},b={delay:500,copy:!1},a.prototype.setOption=function(a,b){return this.options[a]=b,null!=this._canvas&&(a==='width'||a==='height')?this._canvas[a]=b:void 0},a.prototype.setOptions=function(b){var a,c;return function(d){for(a in b){if(!g(b,a))continue;c=b[a],d.push(this.setOption(a,c))}return d}.call(this,[])},a.prototype.addFrame=function(a,d){var c,e;null==d&&(d={}),c={},c.transparent=this.options.transparent;for(e in b)c[e]=d[e]||b[e];if(null!=this.options.width||this.setOption('width',a.width),null!=this.options.height||this.setOption('height',a.height),'undefined'!==typeof ImageData&&null!=ImageData&&a instanceof ImageData)c.data=a.data;else if('undefined'!==typeof CanvasRenderingContext2D&&null!=CanvasRenderingContext2D&&a instanceof CanvasRenderingContext2D||'undefined'!==typeof WebGLRenderingContext&&null!=WebGLRenderingContext&&a instanceof WebGLRenderingContext)d.copy?c.data=this.getContextData(a):c.context=a;else if(null!=a.childNodes)d.copy?c.data=this.getImageData(a):c.image=a;else throw new Error('Invalid image');return this.frames.push(c)},a.prototype.render=function(){var d,a;if(this.running)throw new Error('Already running');if(!(null!=this.options.width&&null!=this.options.height))throw new Error('Width and height must be set prior to rendering');this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(c){for(var b=function(){var b;b=[];for(var a=0;0<=this.frames.length?a<this.frames.length:a>this.frames.length;0<=this.frames.length?++a:--a)b.push(a);return b}.apply(this,arguments),a=0,e=b.length;a<e;++a)d=b[a],c.push(null);return c}.call(this,[]),a=this.spawnWorkers();for(var c=function(){var c;c=[];for(var b=0;0<=a?b<a:b>a;0<=a?++b:--b)c.push(b);return c}.apply(this,arguments),b=0,e=c.length;b<e;++b)d=c[b],this.renderNextFrame();return this.emit('start'),this.emit('progress',0)},a.prototype.abort=function(){var a;while(!0){if(a=this.activeWorkers.shift(),!(null!=a))break;console.log('killing active worker'),a.terminate()}return this.running=!1,this.emit('abort')},a.prototype.spawnWorkers=function(){var a;return a=Math.min(this.options.workers,this.frames.length),function(){var c;c=[];for(var b=this.freeWorkers.length;this.freeWorkers.length<=a?b<a:b>a;this.freeWorkers.length<=a?++b:--b)c.push(b);return c}.apply(this,arguments).forEach(function(a){return function(c){var b;return console.log('spawning worker '+c),b=new Worker(a.options.workerScript),b.onmessage=function(a){return function(c){return a.activeWorkers.splice(a.activeWorkers.indexOf(b),1),a.freeWorkers.push(b),a.frameFinished(c.data)}}(a),a.freeWorkers.push(b)}}(this)),a},a.prototype.frameFinished=function(a){return console.log('frame '+a.index+' finished - '+this.activeWorkers.length+' active'),this.finishedFrames++,this.emit('progress',this.finishedFrames/this.frames.length),this.imageParts[a.index]=a,j(null,this.imageParts)?this.renderNextFrame():this.finishRendering()},a.prototype.finishRendering=function(){var e,a,k,m,b,d,h;b=0;for(var f=0,j=this.imageParts.length;f<j;++f)a=this.imageParts[f],b+=(a.data.length-1)*a.pageSize+a.cursor;b+=a.pageSize-a.cursor,console.log('rendering finished - filesize '+Math.round(b/1e3)+'kb'),e=new Uint8Array(b),d=0;for(var g=0,l=this.imageParts.length;g<l;++g){a=this.imageParts[g];for(var c=0,i=a.data.length;c<i;++c)h=a.data[c],k=c,e.set(h,d),k===a.data.length-1?d+=a.cursor:d+=a.pageSize}return m=new Blob([e],{type:'image/gif'}),this.emit('finished',m,e)},a.prototype.renderNextFrame=function(){var c,a,b;if(this.freeWorkers.length===0)throw new Error('No free workers');return this.nextFrame>=this.frames.length?void 0:(c=this.frames[this.nextFrame++],b=this.freeWorkers.shift(),a=this.getTask(c),console.log('starting frame '+(a.index+1)+' of '+this.frames.length),this.activeWorkers.push(b),b.postMessage(a))},a.prototype.getContextData=function(a){return a.getImageData(0,0,this.options.width,this.options.height).data},a.prototype.getImageData=function(b){var a;return null!=this._canvas||(this._canvas=document.createElement('canvas'),this._canvas.width=this.options.width,this._canvas.height=this.options.height),a=this._canvas.getContext('2d'),a.setFill=this.options.background,a.fillRect(0,0,this.options.width,this.options.height),a.drawImage(b,0,0),this.getContextData(a)},a.prototype.getTask=function(a){var c,b;if(c=this.frames.indexOf(a),b={index:c,last:c===this.frames.length-1,delay:a.delay,transparent:a.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,repeat:this.options.repeat,canTransfer:h.name==='chrome'},null!=a.data)b.data=a.data;else if(null!=a.context)b.data=this.getContextData(a.context);else if(null!=a.image)b.data=this.getImageData(a.image);else throw new Error('Invalid frame');return b},a}(f),d.exports=e}),a.define('/browser.coffee',function(f,g,h,i){var a,d,e,c,b;c=navigator.userAgent.toLowerCase(),e=navigator.platform.toLowerCase(),b=c.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/)||[null,'unknown',0],d=b[1]==='ie'&&document.documentMode,a={name:b[1]==='version'?b[3]:b[1],version:d||parseFloat(b[1]==='opera'&&b[4]?b[4]:b[2]),platform:{name:c.match(/ip(?:ad|od|hone)/)?'ios':(c.match(/(?:webos|android)/)||e.match(/mac|win|linux/)||['other'])[0]}},a[a.name]=!0,a[a.name+parseInt(a.version,10)]=!0,a.platform[a.platform.name]=!0,f.exports=a}),a.define('events',function(f,e,g,h){b.EventEmitter||(b.EventEmitter=function(){});var a=e.EventEmitter=b.EventEmitter,c=typeof Array.isArray==='function'?Array.isArray:function(a){return Object.prototype.toString.call(a)==='[object Array]'},d=10;a.prototype.setMaxListeners=function(a){this._events||(this._events={}),this._events.maxListeners=a},a.prototype.emit=function(f){if(f==='error'&&(!(this._events&&this._events.error)||c(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error(\"Uncaught, unspecified 'error' event.\");if(!this._events)return!1;var a=this._events[f];if(!a)return!1;if(!(typeof a=='function'))if(c(a)){var b=Array.prototype.slice.call(arguments,1),e=a.slice();for(var d=0,g=e.length;d<g;d++)e[d].apply(this,b);return!0}else return!1;switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:var b=Array.prototype.slice.call(arguments,1);a.apply(this,b)}return!0},a.prototype.addListener=function(a,b){if('function'!==typeof b)throw new Error('addListener only takes instances of Function');if(this._events||(this._events={}),this.emit('newListener',a,b),!this._events[a])this._events[a]=b;else if(c(this._events[a])){if(!this._events[a].warned){var e;this._events.maxListeners!==undefined?e=this._events.maxListeners:e=d,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error('(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.',this._events[a].length),console.trace())}this._events[a].push(b)}else this._events[a]=[this._events[a],b];return this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(b,c){var a=this;return a.on(b,function d(){a.removeListener(b,d),c.apply(this,arguments)}),this},a.prototype.removeListener=function(a,d){if('function'!==typeof d)throw new Error('removeListener only takes instances of Function');if(!(this._events&&this._events[a]))return this;var b=this._events[a];if(c(b)){var e=b.indexOf(d);if(e<0)return this;b.splice(e,1),b.length==0&&delete this._events[a]}else this._events[a]===d&&delete this._events[a];return this},a.prototype.removeAllListeners=function(a){return a&&this._events&&this._events[a]&&(this._events[a]=null),this},a.prototype.listeners=function(a){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),c(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]}}),c.GIF=a('/gif.coffee')}.call(this,this))\n//# sourceMappingURL=gif.js.map\n// gif.js 0.1.6 - https://github.com/jnordberg/gif.js\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/gif.js/dist/gif.js\n ** module id = 261\n ** module chunks = 0\n **/","'use strict';\n\n//\n// We store our EE objects in a plain object whose properties are event names.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// `~` to make sure that the built-in object properties are not overridden or\n// used as an attack vector.\n// We also assume that `Object.create(null)` is available when the event name\n// is an ES6 Symbol.\n//\nvar prefix = typeof Object.create !== 'function' ? '~' : false;\n\n/**\n * Representation of a single EventEmitter function.\n *\n * @param {Function} fn Event handler to be called.\n * @param {Mixed} context Context for function execution.\n * @param {Boolean} once Only emit once\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal EventEmitter interface that is molded against the Node.js\n * EventEmitter interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() { /* Nothing to set */ }\n\n/**\n * Holds the assigned EventEmitters by name.\n *\n * @type {Object}\n * @private\n */\nEventEmitter.prototype._events = undefined;\n\n/**\n * Return a list of assigned event listeners.\n *\n * @param {String} event The events that should be listed.\n * @param {Boolean} exists We only need to know if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events && this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Emit an event to all registered event listeners.\n *\n * @param {String} event The name of the event.\n * @returns {Boolean} Indication if we've emitted an event.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if ('function' === typeof listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Register a new EventListener for the given event.\n *\n * @param {String} event Name of the event.\n * @param {Functon} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Add an EventListener that's only called once.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Remove event listeners.\n *\n * @param {String} event The event we want to remove.\n * @param {Function} fn The listener that we need to find.\n * @param {Mixed} context Only remove listeners matching this context.\n * @param {Boolean} once Only remove once listeners.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return this;\n\n  var listeners = this._events[evt]\n    , events = [];\n\n  if (fn) {\n    if (listeners.fn) {\n      if (\n           listeners.fn !== fn\n        || (once && !listeners.once)\n        || (context && listeners.context !== context)\n      ) {\n        events.push(listeners);\n      }\n    } else {\n      for (var i = 0, length = listeners.length; i < length; i++) {\n        if (\n             listeners[i].fn !== fn\n          || (once && !listeners[i].once)\n          || (context && listeners[i].context !== context)\n        ) {\n          events.push(listeners[i]);\n        }\n      }\n    }\n  }\n\n  //\n  // Reset the array, or remove it completely if we have no more listeners.\n  //\n  if (events.length) {\n    this._events[evt] = events.length === 1 ? events[0] : events;\n  } else {\n    delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners or only the listeners for the specified event.\n *\n * @param {String} event The event want to remove all listeners for.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  if (!this._events) return this;\n\n  if (event) delete this._events[prefix ? prefix + event : event];\n  else this._events = prefix ? {} : Object.create(null);\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/eventemitter3/index.js\n ** module id = 262\n ** module chunks = 0\n **/","import Whammy  from './whammy'\n\nfunction parseWebP(riff){\n\tvar VP8 = riff.RIFF[0].WEBP[0];\n\n\tvar frame_start = VP8.indexOf('\\x9d\\x01\\x2a'); //A VP8 keyframe starts with the 0x9d012a header\n\tfor(var i = 0, c = []; i < 4; i++) c[i] = VP8.charCodeAt(frame_start + 3 + i);\n\n\tvar width, horizontal_scale, height, vertical_scale, tmp;\n\n\t//the code below is literally copied verbatim from the bitstream spec\n\ttmp = (c[1] << 8) | c[0];\n\twidth = tmp & 0x3FFF;\n\thorizontal_scale = tmp >> 14;\n\ttmp = (c[3] << 8) | c[2];\n\theight = tmp & 0x3FFF;\n\tvertical_scale = tmp >> 14;\n\treturn {\n\t\twidth: width,\n\t\theight: height,\n\t\tdata: VP8,\n\t\triff: riff\n\t}\n}\n\nfunction parseRIFF(string){\n\tvar offset = 0;\n\tvar chunks = {};\n\n\twhile (offset < string.length) {\n\t\tvar id = string.substr(offset, 4);\n\t\tchunks[id] = chunks[id] || [];\n\t\tif (id == 'RIFF' || id == 'LIST') {\n\t\t\tvar len = parseInt(string.substr(offset + 4, 4).split('').map(function(i){\n\t\t\t\tvar unpadded = i.charCodeAt(0).toString(2);\n\t\t\t\treturn (new Array(8 - unpadded.length + 1)).join('0') + unpadded\n\t\t\t}).join(''),2);\n\t\t\tvar data = string.substr(offset + 4 + 4, len);\n\t\t\toffset += 4 + 4 + len;\n\t\t\tchunks[id].push(parseRIFF(data));\n\t\t} else if (id == 'WEBP') {\n\t\t\t// Use (offset + 8) to skip past \"VP8 \"/\"VP8L\"/\"VP8X\" field after \"WEBP\"\n\t\t\tchunks[id].push(string.substr(offset + 8));\n\t\t\toffset = string.length;\n\t\t} else {\n\t\t\t// Unknown chunk type; push entire payload\n\t\t\tchunks[id].push(string.substr(offset + 4));\n\t\t\toffset = string.length;\n\t\t}\n\t}\n\n\treturn chunks;\n}\n\n\nexport default function(frames, ctx, fps, callback){\n\tconst doneFrames = []\n\n\tfunction processFrame() {\n\t\tctx.putImageData(frames[doneFrames.length], 0, 0)\n\n\t\tconst webp = parseWebP(parseRIFF(atob(ctx.canvas.toDataURL('image/webp', 0.05).slice(23))))\n\t\twebp.duration = 1000 / fps\n\n\t\tdoneFrames.push(webp)\n\n\t\tif (doneFrames.length === frames.length) return returnFrames(doneFrames)\n\t\tcallback(false, doneFrames.length / frames.length)\n\t\trequestAnimationFrame(processFrame)\n\t}\n\n\tfunction returnFrames(frames) {\n\t\tcallback(true, Whammy.toWebM(frames))\n\t}\n\n\trequestAnimationFrame(processFrame)\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/controllers/capture.js\n **/","/*\n\tvar vid = new Whammy.Video();\n\tvid.add(canvas or data url)\n\tvid.compile()\n*/\n\nwindow.Whammy = (function(){\n\t// in this case, frames has a very specific meaning, which will be\n\t// detailed once i finish writing the code\n\n\tfunction toWebM(frames, outputAsArray){\n\t\tvar info = checkFrames(frames);\n\n\t\t//max duration by cluster in milliseconds\n\t\tvar CLUSTER_MAX_DURATION = 30000;\n\n\t\tvar EBML = [\n\t\t\t{\n\t\t\t\t\"id\": 0x1a45dfa3, // EBML\n\t\t\t\t\"data\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"data\": 1,\n\t\t\t\t\t\t\"id\": 0x4286 // EBMLVersion\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"data\": 1,\n\t\t\t\t\t\t\"id\": 0x42f7 // EBMLReadVersion\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"data\": 4,\n\t\t\t\t\t\t\"id\": 0x42f2 // EBMLMaxIDLength\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"data\": 8,\n\t\t\t\t\t\t\"id\": 0x42f3 // EBMLMaxSizeLength\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"data\": \"webm\",\n\t\t\t\t\t\t\"id\": 0x4282 // DocType\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"data\": 2,\n\t\t\t\t\t\t\"id\": 0x4287 // DocTypeVersion\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"data\": 2,\n\t\t\t\t\t\t\"id\": 0x4285 // DocTypeReadVersion\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"id\": 0x18538067, // Segment\n\t\t\t\t\"data\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"id\": 0x1549a966, // Info\n\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"data\": 1e6, //do things in millisecs (num of nanosecs for duration scale)\n\t\t\t\t\t\t\t\t\"id\": 0x2ad7b1 // TimecodeScale\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"data\": \"whammy\",\n\t\t\t\t\t\t\t\t\"id\": 0x4d80 // MuxingApp\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"data\": \"whammy\",\n\t\t\t\t\t\t\t\t\"id\": 0x5741 // WritingApp\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"data\": doubleToString(info.duration),\n\t\t\t\t\t\t\t\t\"id\": 0x4489 // Duration\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"id\": 0x1654ae6b, // Tracks\n\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"id\": 0xae, // TrackEntry\n\t\t\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\"data\": 1,\n\t\t\t\t\t\t\t\t\t\t\"id\": 0xd7 // TrackNumber\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\"data\": 1,\n\t\t\t\t\t\t\t\t\t\t\"id\": 0x73c5 // TrackUID\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\"data\": 0,\n\t\t\t\t\t\t\t\t\t\t\"id\": 0x9c // FlagLacing\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\"data\": \"und\",\n\t\t\t\t\t\t\t\t\t\t\"id\": 0x22b59c // Language\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\"data\": \"V_VP8\",\n\t\t\t\t\t\t\t\t\t\t\"id\": 0x86 // CodecID\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\"data\": \"VP8\",\n\t\t\t\t\t\t\t\t\t\t\"id\": 0x258688 // CodecName\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\"data\": 1,\n\t\t\t\t\t\t\t\t\t\t\"id\": 0x83 // TrackType\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\"id\": 0xe0,  // Video\n\t\t\t\t\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\"data\": info.width,\n\t\t\t\t\t\t\t\t\t\t\t\t\"id\": 0xb0 // PixelWidth\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\"data\": info.height,\n\t\t\t\t\t\t\t\t\t\t\t\t\"id\": 0xba // PixelHeight\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"id\": 0x1c53bb6b, // Cues\n\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t//cue insertion point\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\n\t\t\t\t\t//cluster insertion point\n\t\t\t\t]\n\t\t\t}\n\t\t ];\n\n\n\t\tvar segment = EBML[1];\n\t\tvar cues = segment.data[2];\n\n\t\t//Generate clusters (max duration)\n\t\tvar frameNumber = 0;\n\t\tvar clusterTimecode = 0;\n\t\twhile(frameNumber < frames.length){\n\n\t\t\tvar cuePoint = {\n\t\t\t\t\t\"id\": 0xbb, // CuePoint\n\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\": Math.round(clusterTimecode),\n\t\t\t\t\t\t\t\"id\": 0xb3 // CueTime\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": 0xb7, // CueTrackPositions\n\t\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"data\": 1,\n\t\t\t\t\t\t\t\t\t\"id\": 0xf7 // CueTrack\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"data\": 0, // to be filled in when we know it\n\t\t\t\t\t\t\t\t\t\"size\": 8,\n\t\t\t\t\t\t\t\t\t\"id\": 0xf1 // CueClusterPosition\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t};\n\n\t\t\tcues.data.push(cuePoint);\n\n\t\t\tvar clusterFrames = [];\n\t\t\tvar clusterDuration = 0;\n\t\t\tdo {\n\t\t\t\tclusterFrames.push(frames[frameNumber]);\n\t\t\t\tclusterDuration += frames[frameNumber].duration;\n\t\t\t\tframeNumber++;\n\t\t\t}while(frameNumber < frames.length && clusterDuration < CLUSTER_MAX_DURATION);\n\n\t\t\tvar clusterCounter = 0;\n\t\t\tvar cluster = {\n\t\t\t\t\t\"id\": 0x1f43b675, // Cluster\n\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\": Math.round(clusterTimecode),\n\t\t\t\t\t\t\t\"id\": 0xe7 // Timecode\n\t\t\t\t\t\t}\n\t\t\t\t\t].concat(clusterFrames.map(function(webp){\n\t\t\t\t\t\tvar block = makeSimpleBlock({\n\t\t\t\t\t\t\tdiscardable: 0,\n\t\t\t\t\t\t\tframe: webp.data.slice(4),\n\t\t\t\t\t\t\tinvisible: 0,\n\t\t\t\t\t\t\tkeyframe: 1,\n\t\t\t\t\t\t\tlacing: 0,\n\t\t\t\t\t\t\ttrackNum: 1,\n\t\t\t\t\t\t\ttimecode: Math.round(clusterCounter)\n\t\t\t\t\t\t});\n\t\t\t\t\t\tclusterCounter += webp.duration;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tdata: block,\n\t\t\t\t\t\t\tid: 0xa3\n\t\t\t\t\t\t};\n\t\t\t\t\t}))\n\t\t\t\t}\n\n\t\t\t//Add cluster to segment\n\t\t\tsegment.data.push(cluster);\n\t\t\tclusterTimecode += clusterDuration;\n\t\t}\n\n\t\t//First pass to compute cluster positions\n\t\tvar position = 0;\n\t\tfor(var i = 0; i < segment.data.length; i++){\n\t\t\tif (i >= 3) {\n\t\t\t\tcues.data[i-3].data[1].data[1].data = position;\n\t\t\t}\n\t\t\tvar data = generateEBML([segment.data[i]], outputAsArray);\n\t\t\tposition += data.size || data.byteLength || data.length;\n\t\t\tif (i != 2) { // not cues\n\t\t\t\t//Save results to avoid having to encode everything twice\n\t\t\t\tsegment.data[i] = data;\n\t\t\t}\n\t\t}\n\n\t\treturn generateEBML(EBML, outputAsArray)\n\t}\n\n\t// sums the lengths of all the frames and gets the duration, woo\n\n\tfunction checkFrames(frames){\n\t\tvar width = frames[0].width,\n\t\t\theight = frames[0].height,\n\t\t\tduration = frames[0].duration;\n\t\tfor(var i = 1; i < frames.length; i++){\n\t\t\tif(frames[i].width != width) throw \"Frame \" + (i + 1) + \" has a different width\";\n\t\t\tif(frames[i].height != height) throw \"Frame \" + (i + 1) + \" has a different height\";\n\t\t\tif(frames[i].duration < 0 || frames[i].duration > 0x7fff) throw \"Frame \" + (i + 1) + \" has a weird duration (must be between 0 and 32767)\";\n\t\t\tduration += frames[i].duration;\n\t\t}\n\t\treturn {\n\t\t\tduration: duration,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t}\n\n\n\tfunction numToBuffer(num){\n\t\tvar parts = [];\n\t\twhile(num > 0){\n\t\t\tparts.push(num & 0xff)\n\t\t\tnum = num >> 8\n\t\t}\n\t\treturn new Uint8Array(parts.reverse());\n\t}\n\n\tfunction numToFixedBuffer(num, size){\n\t\tvar parts = new Uint8Array(size);\n\t\tfor(var i = size - 1; i >= 0; i--){\n\t\t\tparts[i] = num & 0xff;\n\t\t\tnum = num >> 8;\n\t\t}\n\t\treturn parts;\n\t}\n\n\tfunction strToBuffer(str){\n\t\t// return new Blob([str]);\n\n\t\tvar arr = new Uint8Array(str.length);\n\t\tfor(var i = 0; i < str.length; i++){\n\t\t\tarr[i] = str.charCodeAt(i)\n\t\t}\n\t\treturn arr;\n\t\t// this is slower\n\t\t// return new Uint8Array(str.split('').map(function(e){\n\t\t// \treturn e.charCodeAt(0)\n\t\t// }))\n\t}\n\n\n\t//sorry this is ugly, and sort of hard to understand exactly why this was done\n\t// at all really, but the reason is that there's some code below that i dont really\n\t// feel like understanding, and this is easier than using my brain.\n\n\tfunction bitsToBuffer(bits){\n\t\tvar data = [];\n\t\tvar pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\n\t\tbits = pad + bits;\n\t\tfor(var i = 0; i < bits.length; i+= 8){\n\t\t\tdata.push(parseInt(bits.substr(i,8),2))\n\t\t}\n\t\treturn new Uint8Array(data);\n\t}\n\n\tfunction generateEBML(json, outputAsArray){\n\t\tvar ebml = [];\n\t\tfor(var i = 0; i < json.length; i++){\n\t\t\tif (!('id' in json[i])){\n\t\t\t\t//already encoded blob or byteArray\n\t\t\t\tebml.push(json[i]);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar data = json[i].data;\n\t\t\tif(typeof data == 'object') data = generateEBML(data, outputAsArray);\n\t\t\tif(typeof data == 'number') data = ('size' in json[i]) ? numToFixedBuffer(data, json[i].size) : bitsToBuffer(data.toString(2));\n\t\t\tif(typeof data == 'string') data = strToBuffer(data);\n\n\t\t\tif(data.length){\n\t\t\t\tvar z = z;\n\t\t\t}\n\n\t\t\tvar len = data.size || data.byteLength || data.length;\n\t\t\tvar zeroes = Math.ceil(Math.ceil(Math.log(len)/Math.log(2))/8);\n\t\t\tvar size_str = len.toString(2);\n\t\t\tvar padded = (new Array((zeroes * 7 + 7 + 1) - size_str.length)).join('0') + size_str;\n\t\t\tvar size = (new Array(zeroes)).join('0') + '1' + padded;\n\n\t\t\t//i actually dont quite understand what went on up there, so I'm not really\n\t\t\t//going to fix this, i'm probably just going to write some hacky thing which\n\t\t\t//converts that string into a buffer-esque thing\n\n\t\t\tebml.push(numToBuffer(json[i].id));\n\t\t\tebml.push(bitsToBuffer(size));\n\t\t\tebml.push(data)\n\n\n\t\t}\n\n\t\t//output as blob or byteArray\n\t\tif(outputAsArray){\n\t\t\t//convert ebml to an array\n\t\t\tvar buffer = toFlatArray(ebml)\n\t\t\treturn new Uint8Array(buffer);\n\t\t}else{\n\t\t\treturn new Blob(ebml, {type: \"video/webm\"});\n\t\t}\n\t}\n\n\tfunction toFlatArray(arr, outBuffer){\n\t\tif(outBuffer == null){\n\t\t\toutBuffer = [];\n\t\t}\n\t\tfor(var i = 0; i < arr.length; i++){\n\t\t\tif(typeof arr[i] == 'object'){\n\t\t\t\t//an array\n\t\t\t\ttoFlatArray(arr[i], outBuffer)\n\t\t\t}else{\n\t\t\t\t//a simple element\n\t\t\t\toutBuffer.push(arr[i]);\n\t\t\t}\n\t\t}\n\t\treturn outBuffer;\n\t}\n\n\t//OKAY, so the following two functions are the string-based old stuff, the reason they're\n\t//still sort of in here, is that they're actually faster than the new blob stuff because\n\t//getAsFile isn't widely implemented, or at least, it doesn't work in chrome, which is the\n\t// only browser which supports get as webp\n\n\t//Converting between a string of 0010101001's and binary back and forth is probably inefficient\n\t//TODO: get rid of this function\n\tfunction toBinStr_old(bits){\n\t\tvar data = '';\n\t\tvar pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\n\t\tbits = pad + bits;\n\t\tfor(var i = 0; i < bits.length; i+= 8){\n\t\t\tdata += String.fromCharCode(parseInt(bits.substr(i,8),2))\n\t\t}\n\t\treturn data;\n\t}\n\n\tfunction generateEBML_old(json){\n\t\tvar ebml = '';\n\t\tfor(var i = 0; i < json.length; i++){\n\t\t\tvar data = json[i].data;\n\t\t\tif(typeof data == 'object') data = generateEBML_old(data);\n\t\t\tif(typeof data == 'number') data = toBinStr_old(data.toString(2));\n\n\t\t\tvar len = data.length;\n\t\t\tvar zeroes = Math.ceil(Math.ceil(Math.log(len)/Math.log(2))/8);\n\t\t\tvar size_str = len.toString(2);\n\t\t\tvar padded = (new Array((zeroes * 7 + 7 + 1) - size_str.length)).join('0') + size_str;\n\t\t\tvar size = (new Array(zeroes)).join('0') + '1' + padded;\n\n\t\t\tebml += toBinStr_old(json[i].id.toString(2)) + toBinStr_old(size) + data;\n\n\t\t}\n\t\treturn ebml;\n\t}\n\n\t//woot, a function that's actually written for this project!\n\t//this parses some json markup and makes it into that binary magic\n\t//which can then get shoved into the matroska comtainer (peaceably)\n\n\tfunction makeSimpleBlock(data){\n\t\tvar flags = 0;\n\t\tif (data.keyframe) flags |= 128;\n\t\tif (data.invisible) flags |= 8;\n\t\tif (data.lacing) flags |= (data.lacing << 1);\n\t\tif (data.discardable) flags |= 1;\n\t\tif (data.trackNum > 127) {\n\t\t\tthrow \"TrackNumber > 127 not supported\";\n\t\t}\n\t\tvar out = [data.trackNum | 0x80, data.timecode >> 8, data.timecode & 0xff, flags].map(function(e){\n\t\t\treturn String.fromCharCode(e)\n\t\t}).join('') + data.frame;\n\n\t\treturn out;\n\t}\n\n\t// here's something else taken verbatim from weppy, awesome rite?\n\n\tfunction parseWebP(riff){\n\t\tvar VP8 = riff.RIFF[0].WEBP[0];\n\n\t\tvar frame_start = VP8.indexOf('\\x9d\\x01\\x2a'); //A VP8 keyframe starts with the 0x9d012a header\n\t\tfor(var i = 0, c = []; i < 4; i++) c[i] = VP8.charCodeAt(frame_start + 3 + i);\n\n\t\tvar width, horizontal_scale, height, vertical_scale, tmp;\n\n\t\t//the code below is literally copied verbatim from the bitstream spec\n\t\ttmp = (c[1] << 8) | c[0];\n\t\twidth = tmp & 0x3FFF;\n\t\thorizontal_scale = tmp >> 14;\n\t\ttmp = (c[3] << 8) | c[2];\n\t\theight = tmp & 0x3FFF;\n\t\tvertical_scale = tmp >> 14;\n\t\treturn {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdata: VP8,\n\t\t\triff: riff\n\t\t}\n\t}\n\n\t// i think i'm going off on a riff by pretending this is some known\n\t// idiom which i'm making a casual and brilliant pun about, but since\n\t// i can't find anything on google which conforms to this idiomatic\n\t// usage, I'm assuming this is just a consequence of some psychotic\n\t// break which makes me make up puns. well, enough riff-raff (aha a\n\t// rescue of sorts), this function was ripped wholesale from weppy\n\n\tfunction parseRIFF(string){\n\t\tvar offset = 0;\n\t\tvar chunks = {};\n\n\t\twhile (offset < string.length) {\n\t\t\tvar id = string.substr(offset, 4);\n\t\t\tchunks[id] = chunks[id] || [];\n\t\t\tif (id == 'RIFF' || id == 'LIST') {\n\t\t\t\tvar len = parseInt(string.substr(offset + 4, 4).split('').map(function(i){\n\t\t\t\t\tvar unpadded = i.charCodeAt(0).toString(2);\n\t\t\t\t\treturn (new Array(8 - unpadded.length + 1)).join('0') + unpadded\n\t\t\t\t}).join(''),2);\n\t\t\t\tvar data = string.substr(offset + 4 + 4, len);\n\t\t\t\toffset += 4 + 4 + len;\n\t\t\t\tchunks[id].push(parseRIFF(data));\n\t\t\t} else if (id == 'WEBP') {\n\t\t\t\t// Use (offset + 8) to skip past \"VP8 \"/\"VP8L\"/\"VP8X\" field after \"WEBP\"\n\t\t\t\tchunks[id].push(string.substr(offset + 8));\n\t\t\t\toffset = string.length;\n\t\t\t} else {\n\t\t\t\t// Unknown chunk type; push entire payload\n\t\t\t\tchunks[id].push(string.substr(offset + 4));\n\t\t\t\toffset = string.length;\n\t\t\t}\n\t\t}\n\t\treturn chunks;\n\t}\n\n\t// here's a little utility function that acts as a utility for other functions\n\t// basically, the only purpose is for encoding \"Duration\", which is encoded as\n\t// a double (considerably more difficult to encode than an integer)\n\tfunction doubleToString(num){\n\t\treturn [].slice.call(\n\t\t\tnew Uint8Array(\n\t\t\t\t(\n\t\t\t\t\tnew Float64Array([num]) //create a float64 array\n\t\t\t\t).buffer) //extract the array buffer\n\t\t\t, 0) // convert the Uint8Array into a regular array\n\t\t\t.map(function(e){ //since it's a regular array, we can now use map\n\t\t\t\treturn String.fromCharCode(e) // encode all the bytes individually\n\t\t\t})\n\t\t\t.reverse() //correct the byte endianness (assume it's little endian for now)\n\t\t\t.join('') // join the bytes in holy matrimony as a string\n\t}\n\n\tfunction WhammyVideo(speed, quality){ // a more abstract-ish API\n\t\tthis.frames = [];\n\t\tthis.duration = 1000 / speed;\n\t\tthis.quality = quality || 0.8;\n\t}\n\n\tWhammyVideo.prototype.add = function(frame, duration){\n\t\tif(typeof duration != 'undefined' && this.duration) throw \"you can't pass a duration if the fps is set\";\n\t\tif(typeof duration == 'undefined' && !this.duration) throw \"if you don't have the fps set, you ned to have durations here.\";\n\t\tif(frame.canvas){ //CanvasRenderingContext2D\n\t\t\tframe = frame.canvas;\n\t\t}\n\t\tif(frame.toDataURL){\n\t\t\tframe = frame.toDataURL('image/webp', this.quality)\n\t\t}else if(typeof frame != \"string\"){\n\t\t\tthrow \"frame must be a a HTMLCanvasElement, a CanvasRenderingContext2D or a DataURI formatted string\"\n\t\t}\n\t\tif (!(/^data:image\\/webp;base64,/ig).test(frame)) {\n\t\t\tthrow \"Input must be formatted properly as a base64 encoded DataURI of type image/webp\";\n\t\t}\n\t\tthis.frames.push({\n\t\t\timage: frame,\n\t\t\tduration: duration || this.duration\n\t\t})\n\t}\n\n\tWhammyVideo.prototype.compile = function(outputAsArray){\n\t\treturn new toWebM(this.frames.map(function(frame){\n\t\t\tvar webp = parseWebP(parseRIFF(atob(frame.image.slice(23))));\n\t\t\twebp.duration = frame.duration;\n\t\t\treturn webp;\n\t\t}), outputAsArray)\n\t}\n\n\treturn {\n\t\tVideo: WhammyVideo,\n\t\tfromImageArray: function(images, fps, outputAsArray){\n\t\t\treturn toWebM(images.map(function(image){\n\t\t\t\tvar webp = parseWebP(parseRIFF(atob(image.slice(23))))\n\t\t\t\twebp.duration = 1000 / fps;\n\t\t\t\treturn webp;\n\t\t\t}), outputAsArray)\n\t\t},\n\t\ttoWebM: toWebM\n\t\t// expose methods of madness\n\t}\n})()\n\nexport default window.Whammy\n\n\n/** WEBPACK FOOTER **\n ** ./app/controllers/whammy.js\n **/"],"sourceRoot":""}